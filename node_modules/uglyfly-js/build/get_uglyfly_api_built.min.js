/***********************************************************************
  Copyright 2014      (c) Saair Quaderi <saair.quaderi@gmail.com>
  Copyright 2012-2013 (c) Mihai Bazon <mihai.bazon@gmail.com>

  UglyflyJS sourcecode can be found here:
    https://github.com/quaderi/uglyflyjs

  UglyflyJS (by Saair) is a fork of UglifyJS2 (by Mihai Bazon)
  Both libraries are released under the BSD 2-Clause License.
  ------------------------------------------------------------------

  Redistribution and use in source and binary forms, with or without
  modification, are permitted provided that the following conditions
  are met:

      * Redistributions of source code must retain the above
        copyright notice, this list of conditions and the following
        disclaimer.

      * Redistributions in binary form must reproduce the above
        copyright notice, this list of conditions and the following
        disclaimer in the documentation and/or other materials
        provided with the distribution.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDER “AS IS” AND ANY
  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER BE
  LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY,
  OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
  THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR
  TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF
  THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
  SUCH DAMAGE.
 ***********************************************************************/
 define("get_warn",[],function(){function e(e){function n(n,t){"function"===e&&e(n.replace(/\{(.+?)\}/g,function(e,n){return t[n]}))}return n}return e}),define("merge",[],function(){function e(e,n){var t;for(t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}return e}),define("AST",[],function(){function e(e,n,o,r){var i,a,u,s;if(arguments.length<4&&(r=t.Node),n=n?n.split(/\s+/):[],i=n,r&&r.PROPS&&(n=n.concat(r.PROPS)),a=r&&new r,u=function(e,n){return function(t){var o,r;for(o=e.length-1;o>=0;--o)r=e[o],t&&(this[r]=t[r]);n&&"function"==typeof this.initialize&&this.initialize()}}(n.slice(),a&&a.initialize||o&&o.initialize),a&&(u.prototype=a,u.BASE=r),r&&r.SUBCLASSES.push(u),u.prototype.CTOR=u,u.PROPS=n||null,u.SELF_PROPS=i,u.SUBCLASSES=[],e&&(u.prototype.TYPE=u.TYPE=e),o)for(s in o)o.hasOwnProperty(s)&&("$"===s.charAt(0)?u[s.substr(1)]=o[s]:u.prototype[s]=o[s]);return u.prototype["instanceof_"+e]=!0,u.DEFMETHOD=function(e,n){this.prototype[e]=n},u}function n(e,n){e.body instanceof t.Statement?e.body._walk(n):e.body.forEach(function(e){e._walk(n)})}var t={},o=void 0,r=function(){var e=0,n=0;return e/n}(),i=function(){var e=1,n=0;return e/n}();return t.def_node=e,t.Token=e("Token","type value line col pos endline endcol endpos nlb comments_before file",{},null),t.Node=e("Node","start end",{clone:function(){return new this.CTOR(this)},$documentation:"Base class of all AST nodes",$propdoc:{start:"[AST.Token] The first token of this node",end:"[AST.Token] The last token of this node"},_walk:function(e){return e._visit(this)},walk:function(e){return this._walk(e)}},null),t.Statement=e("Statement",null,{$documentation:"Base class of all statements"}),t.Debugger=e("Debugger",null,{$documentation:"Represents a debugger statement"},t.Statement),t.Directive=e("Directive","value scope quote",{$documentation:'Represents a directive, like "use strict";',$propdoc:{value:"[string] The value of this directive as a plain string (it's not an AST.String!)",scope:"[AST.Scope/S] The scope that this directive affects",quote:"[string] the original quote character"}},t.Statement),t.SimpleStatement=e("SimpleStatement","body",{$documentation:"A statement consisting of an expression, i.e. a = 1 + 2",$propdoc:{body:"[AST.Node] an expression node (should not be instanceof AST.Statement)"},_walk:function(e){return e._visit(this,function(){this.body._walk(e)})}},t.Statement),t.Block=e("Block","body",{$documentation:"A body of statements (usually bracketed)",$propdoc:{body:"[AST.Statement*] an array of statements"},_walk:function(e){return e._visit(this,function(){n(this,e)})}},t.Statement),t.BlockStatement=e("BlockStatement",null,{$documentation:"A block statement"},t.Block),t.EmptyStatement=e("EmptyStatement",null,{$documentation:"The empty statement (empty block or simply a semicolon)",_walk:function(e){return e._visit(this)}},t.Statement),t.StatementWithBody=e("StatementWithBody","body",{$documentation:"Base class for all statements that contain one nested body: `For`, `ForIn`, `Do`, `While`, `With`",$propdoc:{body:"[AST.Statement] the body; this should always be present, even if it's an AST.EmptyStatement"},_walk:function(e){return e._visit(this,function(){this.body._walk(e)})}},t.Statement),t.LabeledStatement=e("LabeledStatement","label",{$documentation:"Statement with a label",$propdoc:{label:"[AST.Label] a label definition"},_walk:function(e){return e._visit(this,function(){this.label._walk(e),this.body._walk(e)})}},t.StatementWithBody),t.IterationStatement=e("IterationStatement",null,{$documentation:"Internal class.  All loops inherit from it."},t.StatementWithBody),t.DWLoop=e("DWLoop","condition",{$documentation:"Base class for do/while statements",$propdoc:{condition:"[AST.Node] the loop condition.  Should not be instanceof AST.Statement"}},t.IterationStatement),t.Do=e("Do",null,{$documentation:"A `do` statement",_walk:function(e){return e._visit(this,function(){this.body._walk(e),this.condition._walk(e)})}},t.DWLoop),t.While=e("While",null,{$documentation:"A `while` statement",_walk:function(e){return e._visit(this,function(){this.condition._walk(e),this.body._walk(e)})}},t.DWLoop),t.For=e("For","init condition step",{$documentation:"A `for` statement",$propdoc:{init:"[AST.Node?] the `for` initialization code, or null if empty",condition:"[AST.Node?] the `for` termination clause, or null if empty",step:"[AST.Node?] the `for` update clause, or null if empty"},_walk:function(e){return e._visit(this,function(){this.init&&this.init._walk(e),this.condition&&this.condition._walk(e),this.step&&this.step._walk(e),this.body._walk(e)})}},t.IterationStatement),t.ForIn=e("ForIn","init name object",{$documentation:"A `for ... in` statement",$propdoc:{init:"[AST.Node] the `for/in` initialization code",name:"[AST.SymbolRef?] the loop variable, only if `init` is AST.Var",object:"[AST.Node] the object that we're looping through"},_walk:function(e){return e._visit(this,function(){this.init._walk(e),this.object._walk(e),this.body._walk(e)})}},t.IterationStatement),t.With=e("With","expression",{$documentation:"A `with` statement",$propdoc:{expression:"[AST.Node] the `with` expression"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e),this.body._walk(e)})}},t.StatementWithBody),t.Scope=e("Scope","directives variables functions uses_with uses_eval parent_scope enclosed cname",{$documentation:"Base class for all statements introducing a lexical scope",$propdoc:{directives:"[string*/S] an array of directives declared in this scope",variables:"[Object/S] a map of name -> SymbolDef for all variables/functions defined in this scope",functions:"[Object/S] like `variables`, but only lists function declarations",uses_with:"[boolean/S] tells whether this scope uses the `with` statement",uses_eval:"[boolean/S] tells whether this scope contains a direct call to the global `eval`",parent_scope:"[AST.Scope?/S] link to the parent scope",enclosed:"[SymbolDef*/S] a list of all symbol definitions that are accessed from this scope or any subscopes",cname:"[integer/S] current index for mangling variables (used internally by the mangler)"}},t.Block),t.Toplevel=e("Toplevel","globals",{$documentation:"The toplevel scope",$propdoc:{globals:"[Object/S] a map of name -> SymbolDef for all undeclared names"}},t.Scope),t.Lambda=e("Lambda","name argnames uses_arguments",{$documentation:"Base class for functions",$propdoc:{name:"[AST.SymbolDeclaration?] the name of this function",argnames:"[AST.SymbolFunarg*] array of function arguments",uses_arguments:"[boolean/S] tells whether this function accesses the arguments array"},_walk:function(e){return e._visit(this,function(){this.name&&this.name._walk(e),this.argnames.forEach(function(n){n._walk(e)}),n(this,e)})}},t.Scope),t.Accessor=e("Accessor",null,{$documentation:"A setter/getter function.  The `name` property is always null."},t.Lambda),t.Function=e("Function",null,{$documentation:"A function expression"},t.Lambda),t.Defun=e("Defun",null,{$documentation:"A function definition"},t.Lambda),t.Jump=e("Jump",null,{$documentation:"Base class for “jumps” (for now that's `return`, `throw`, `break` and `continue`)"},t.Statement),t.Exit=e("Exit","value",{$documentation:"Base class for “exits” (`return` and `throw`)",$propdoc:{value:"[AST.Node?] the value returned or thrown by this statement; could be null for AST.Return"},_walk:function(e){return e._visit(this,this.value&&function(){this.value._walk(e)})}},t.Jump),t.Return=e("Return",null,{$documentation:"A `return` statement"},t.Exit),t.Throw=e("Throw",null,{$documentation:"A `throw` statement"},t.Exit),t.LoopControl=e("LoopControl","label",{$documentation:"Base class for loop control statements (`break` and `continue`)",$propdoc:{label:"[AST.LabelRef?] the label, or null if none"},_walk:function(e){return e._visit(this,this.label&&function(){this.label._walk(e)})}},t.Jump),t.Break=e("Break",null,{$documentation:"A `break` statement"},t.LoopControl),t.Continue=e("Continue",null,{$documentation:"A `continue` statement"},t.LoopControl),t.If=e("If","condition alternative",{$documentation:"A `if` statement",$propdoc:{condition:"[AST.Node] the `if` condition",alternative:"[AST.Statement?] the `else` part, or null if not present"},_walk:function(e){return e._visit(this,function(){this.condition._walk(e),this.body._walk(e),this.alternative&&this.alternative._walk(e)})}},t.StatementWithBody),t.Switch=e("Switch","expression",{$documentation:"A `switch` statement",$propdoc:{expression:"[AST.Node] the `switch` “discriminant”"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e),n(this,e)})}},t.Block),t.SwitchBranch=e("SwitchBranch",null,{$documentation:"Base class for `switch` branches"},t.Block),t.Default=e("Default",null,{$documentation:"A `default` switch branch"},t.SwitchBranch),t.Case=e("Case","expression",{$documentation:"A `case` switch branch",$propdoc:{expression:"[AST.Node] the `case` expression"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e),n(this,e)})}},t.SwitchBranch),t.Try=e("Try","bcatch bfinally",{$documentation:"A `try` statement",$propdoc:{bcatch:"[AST.Catch?] the catch block, or null if not present",bfinally:"[AST.Finally?] the finally block, or null if not present"},_walk:function(e){return e._visit(this,function(){n(this,e),this.bcatch&&this.bcatch._walk(e),this.bfinally&&this.bfinally._walk(e)})}},t.Block),t.Catch=e("Catch","argname",{$documentation:"A `catch` node; only makes sense as part of a `try` statement",$propdoc:{argname:"[AST.SymbolCatch] symbol for the exception"},_walk:function(e){return e._visit(this,function(){this.argname._walk(e),n(this,e)})}},t.Block),t.Finally=e("Finally",null,{$documentation:"A `finally` node; only makes sense as part of a `try` statement"},t.Block),t.Definitions=e("Definitions","definitions",{$documentation:"Base class for `var` or `const` nodes (variable declarations/initializations)",$propdoc:{definitions:"[AST.VarDef*] array of variable definitions"},_walk:function(e){return e._visit(this,function(){this.definitions.forEach(function(n){n._walk(e)})})}},t.Statement),t.Var=e("Var",null,{$documentation:"A `var` statement"},t.Definitions),t.Const=e("Const",null,{$documentation:"A `const` statement"},t.Definitions),t.VarDef=e("VarDef","name value",{$documentation:"A variable declaration; only appears in a AST.Definitions node",$propdoc:{name:"[AST.SymbolVar|AST.SymbolConst] name of the variable",value:"[AST.Node?] initializer, or null of there's no initializer"},_walk:function(e){return e._visit(this,function(){this.name._walk(e),this.value&&this.value._walk(e)})}}),t.Call=e("Call","expression args",{$documentation:"A function call expression",$propdoc:{expression:"[AST.Node] expression to invoke as function",args:"[AST.Node*] array of arguments"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e),this.args.forEach(function(n){n._walk(e)})})}}),t.New=e("New",null,{$documentation:"An object instantiation.  Derives from a function call since it has exactly the same properties"},t.Call),t.Seq=e("Seq","car cdr",{$documentation:"A sequence expression (two comma-separated expressions)",$propdoc:{car:"[AST.Node] first element in sequence",cdr:"[AST.Node] second element in sequence"},$cons:function(e,n){var o=new t.Seq(e);return o.car=e,o.cdr=n,o},$from_array:function(e){var n,o,r=null;if(0===e.length)return null;if(1===e.length)return e[0].clone();for(n=e.length-1;n>=0;--n)r=t.Seq.cons(e[n],r);for(o=r;o;){if(o.cdr&&!o.cdr.cdr){o.cdr=o.cdr.car;break}o=o.cdr}return r},to_array:function(){for(var e=this,n=[];e;){if(n.push(e.car),e.cdr&&!(e.cdr instanceof t.Seq)){n.push(e.cdr);break}e=e.cdr}return n},add:function(e){for(var n,o=this;o;){if(!(o.cdr instanceof t.Seq))return n=t.Seq.cons(o.cdr,e),o.cdr=n,n;o=o.cdr}},_walk:function(e){return e._visit(this,function(){this.car._walk(e),this.cdr&&this.cdr._walk(e)})}}),t.PropAccess=e("PropAccess","expression property",{$documentation:'Base class for property access expressions, i.e. `a.foo` or `a["foo"]`',$propdoc:{expression:"[AST.Node] the “container” expression",property:"[AST.Node|string] the property to access.  For AST.Dot this is always a plain string, while for AST.Sub it's an arbitrary AST.Node"}}),t.Dot=e("Dot",null,{$documentation:"A dotted property access expression",_walk:function(e){return e._visit(this,function(){this.expression._walk(e)})}},t.PropAccess),t.Sub=e("Sub",null,{$documentation:'Index-style property access, i.e. `a["foo"]`',_walk:function(e){return e._visit(this,function(){this.expression._walk(e),this.property._walk(e)})}},t.PropAccess),t.Unary=e("Unary","operator expression",{$documentation:"Base class for unary expressions",$propdoc:{operator:"[string] the operator",expression:"[AST.Node] expression that this unary operator applies to"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e)})}}),t.UnaryPrefix=e("UnaryPrefix",null,{$documentation:"Unary prefix expression, i.e. `typeof i` or `++i`"},t.Unary),t.UnaryPostfix=e("UnaryPostfix",null,{$documentation:"Unary postfix expression, i.e. `i++`"},t.Unary),t.Binary=e("Binary","left operator right",{$documentation:"Binary expression, i.e. `a + b`",$propdoc:{left:"[AST.Node] left-hand side expression",operator:"[string] the operator",right:"[AST.Node] right-hand side expression"},_walk:function(e){return e._visit(this,function(){this.left._walk(e),this.right._walk(e)})}}),t.Conditional=e("Conditional","condition consequent alternative",{$documentation:"Conditional expression using the ternary operator, i.e. `a ? b : c`",$propdoc:{condition:"[AST.Node]",consequent:"[AST.Node]",alternative:"[AST.Node]"},_walk:function(e){return e._visit(this,function(){this.condition._walk(e),this.consequent._walk(e),this.alternative._walk(e)})}}),t.Assign=e("Assign",null,{$documentation:"An assignment expression — `a = b + 5`"},t.Binary),t.Array=e("Array","elements",{$documentation:"An array literal",$propdoc:{elements:"[AST.Node*] array of elements"},_walk:function(e){return e._visit(this,function(){this.elements.forEach(function(n){n._walk(e)})})}}),t.Object=e("Object","properties",{$documentation:"An object literal",$propdoc:{properties:"[AST.ObjectProperty*] array of properties"},_walk:function(e){return e._visit(this,function(){this.properties.forEach(function(n){n._walk(e)})})}}),t.ObjectProperty=e("ObjectProperty","key value",{$documentation:"Base class for literal object properties",$propdoc:{key:"[string] the property name converted to a string for ObjectKeyVal.  For setters and getters this is an arbitrary AST.Node.",value:"[AST.Node] property value.  For setters and getters this is an AST.Function."},_walk:function(e){return e._visit(this,function(){this.value._walk(e)})}}),t.ObjectKeyVal=e("ObjectKeyVal","quote",{$documentation:"A key: value object property",$propdoc:{quote:"[string] the original quote character"}},t.ObjectProperty),t.ObjectSetter=e("ObjectSetter",null,{$documentation:"An object setter property"},t.ObjectProperty),t.ObjectGetter=e("ObjectGetter",null,{$documentation:"An object getter property"},t.ObjectProperty),t.Symbol=e("Symbol","scope name thedef",{$propdoc:{name:"[string] name of this symbol",scope:"[AST.Scope/S] the current scope (not necessarily the definition scope)",thedef:"[SymbolDef/S] the definition of this symbol"},$documentation:"Base class for all symbols"}),t.SymbolAccessor=e("SymbolAccessor",null,{$documentation:"The name of a property accessor (setter/getter function)"},t.Symbol),t.SymbolDeclaration=e("SymbolDeclaration","init",{$documentation:"A declaration symbol (symbol in var/const, function name or argument, symbol in catch)",$propdoc:{init:"[AST.Node*/S] array of initializers for this declaration."}},t.Symbol),t.SymbolVar=e("SymbolVar",null,{$documentation:"Symbol defining a variable"},t.SymbolDeclaration),t.SymbolConst=e("SymbolConst",null,{$documentation:"A constant declaration"},t.SymbolDeclaration),t.SymbolFunarg=e("SymbolFunarg",null,{$documentation:"Symbol naming a function argument"},t.SymbolVar),t.SymbolDefun=e("SymbolDefun",null,{$documentation:"Symbol defining a function"},t.SymbolDeclaration),t.SymbolLambda=e("SymbolLambda",null,{$documentation:"Symbol naming a function expression"},t.SymbolDeclaration),t.SymbolCatch=e("SymbolCatch",null,{$documentation:"Symbol naming the exception in catch"},t.SymbolDeclaration),t.Label=e("Label","references",{$documentation:"Symbol naming a label (declaration)",$propdoc:{references:"[AST.LoopControl*] a list of nodes referring to this label"},initialize:function(){this.references=[],this.thedef=this}},t.Symbol),t.SymbolRef=e("SymbolRef",null,{$documentation:"Reference to some symbol (not definition/declaration)"},t.Symbol),t.LabelRef=e("LabelRef",null,{$documentation:"Reference to a label symbol"},t.Symbol),t.This=e("This",null,{$documentation:"The `this` symbol"},t.Symbol),t.Constant=e("Constant",null,{$documentation:"Base class for all constants",getValue:function(){return this.value}}),t.String=e("String","value quote",{$documentation:"A string literal",$propdoc:{value:"[string] the contents of this string",quote:"[string] the original quote character"}},t.Constant),t.Number=e("Number","value",{$documentation:"A number literal",$propdoc:{value:"[number] the numeric value"}},t.Constant),t.RegExp=e("RegExp","value",{$documentation:"A regexp literal",$propdoc:{value:"[RegExp] the actual regexp"}},t.Constant),t.Atom=e("Atom",null,{$documentation:"Base class for atoms"},t.Constant),t.Null=e("Null",null,{$documentation:"The `null` atom",value:null},t.Atom),t.NaN=e("NaN",null,{$documentation:"The impossible value",value:r},t.Atom),t.Undefined=e("Undefined",null,{$documentation:"The `undefined` value",value:o},t.Atom),t.Hole=e("Hole",null,{$documentation:"A hole in an array",value:o},t.Atom),t.Infinity=e("Infinity",null,{$documentation:"The `Infinity` value",value:i},t.Atom),t.Boolean=e("Boolean",null,{$documentation:"Base class for booleans"},t.Atom),t.False=e("False",null,{$documentation:"The `false` atom",value:!1},t.Boolean),t.True=e("True",null,{$documentation:"The `true` atom",value:!0},t.Boolean),t}),define("TreeWalker",[],function(){function e(e){this.visit=e,this.stack=[]}return e.prototype={_visit:function(e,n){var t;return this.stack.push(e),t=this.visit(e,n?function(){n.call(e)}:function(){}),!t&&n&&n.call(e),this.stack.pop(),t},parent:function(e){return this.stack[this.stack.length-2-(e||0)]},push:function(e){this.stack.push(e)},pop:function(){return this.stack.pop()},self:function(){return this.stack[this.stack.length-1]},find_parent:function(e){var n,t,o=this.stack;for(n=o.length-1;n>=0;--n)if(t=o[n],t["instanceof_"+e])return t},has_directive:function(e){return this.find_parent("Scope").has_directive(e)},in_boolean_context:function(){for(var e,n=this.stack,t=n.length,o=n[--t];t>0;){if(e=n[--t],(e.instanceof_If||e.instanceof_Conditional||e.instanceof_DWLoop||e.instanceof_For)&&e.condition===o||e.instanceof_UnaryPrefix&&"!"===e.operator&&e.expression===o)return!0;if(!e.instanceof_Binary||"&&"!==e.operator&&"||"!==e.operator)return!1;o=e}},loopcontrol_target:function(e){var n,t,o=this.stack;if(e){for(n=o.length-1;n>=0;--n)if(t=o[n],t.instanceof_LabeledStatement&&t.label.name===e.name)return t.body}else for(n=o.length-1;n>=0;--n)if(t=o[n],t.instanceof_Switch||t.instanceof_IterationStatement)return t}},e}),define("TreeTransformer",["TreeWalker"],function(e){function n(n,t){e.call(this),this.before=n,this.after=t}return n.prototype=new e,n}),define("DefaultsError",[],function(){function e(e,n){Error.call(this,e),this.msg=e,this.defs=n}return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e.croak=function(n,t){throw new e(n,t)},e}),define("defaults",["DefaultsError"],function(e){function n(n,t,o){var r,i;if(n===!0&&(n={}),i=n||{},o){"function"!=typeof o?o=e.croak:o!==e.croak&&(o=function(n){return function(t,o){throw n.apply(null,arguments),new e(t,o)}}(o));for(r in i)i.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&o("`"+r+"` is not a supported option",t)}for(r in t)t.hasOwnProperty(r)&&(i[r]=n&&n.hasOwnProperty(r)?n[r]:t[r]);return i}return n}),define("Compressor",["TreeTransformer","defaults","merge"],function(e,n,t){function o(t,r,i,a){return this instanceof o?(e.call(this,this.before,this.after),this.options=n(t,{sequences:!r,properties:!r,dead_code:!r,drop_debugger:!r,unsafe:!1,unsafe_comps:!1,conditionals:!r,comparisons:!r,evaluate:!r,booleans:!r,loops:!r,unused:!r,hoist_funs:!r,keep_fargs:!1,keep_fnames:!1,hoist_vars:!1,if_return:!r,join_vars:!r,cascade:!r,side_effects:!r,pure_getters:!1,pure_funcs:null,negate_iife:!r,screw_ie8:!1,drop_console:!1,angular:!1,warnings:!0,global_defs:{}},a||!0),void(this.warn=function(){this.options.warnings&&i&&i.apply(null,arguments)})):new o(t,r,i,a)}return o.prototype=new e,t(o.prototype,{option:function(e){return this.options[e]},before:function(e,n){var t=!1;return e._squeezed?e:(e.instanceof_Scope&&(e=e.hoist_declarations(this),t=!0),n(e,this),e=e.optimize(this),t&&e.instanceof_Scope&&(e.drop_unused(this),n(e,this)),e._squeezed=!0,e)}}),o}),define("SourceMap",["defaults"],function(e){function n(n,t){function o(e,n,o,a,u,s){var c;if(r){if(c=r.originalPositionFor({line:a,column:u}),null===c.source)return;e=c.source,a=c.line,u=c.column,s=c.name||s}i.addMapping({generated:{line:n+t.dest_line_diff,column:o},original:{line:a+t.orig_line_diff,column:u},source:e,name:s})}var r,i;return t=e(t,{file:null,root:null,orig:null,orig_line_diff:0,dest_line_diff:0}),r=t.orig&&new n.SourceMapConsumer(t.orig),i=r?n.SourceMapGenerator.fromSourceMap(r):new n.SourceMapGenerator({file:t.file,sourceRoot:t.root}),{add:o,get:function(){return i},toString:function(){return JSON.stringify(i.toJSON())}}}return n}),define("predicates",[],function(){var e={},n={};return n.KEYWORDS=["break","case","catch","const","continue","debugger","default","delete","do","else","finally","for","function","if","in","instanceof","new","return","switch","throw","try","typeof","var","void","while","with"],n.KEYWORDS_ATOM=["false","null","true"],n.RESERVED_WORDS=n.KEYWORDS.concat(n.KEYWORDS_ATOM).concat(["abstract","boolean","byte","char","class","double","enum","export","extends","final","float","goto","implements","import","int","interface","long","native","package","private","protected","public","short","static","super","synchronized","this","throws","transient","volatile","yield"]),n.KEYWORDS_BEFORE_EXPRESSION=["case","delete","else","new","return","throw"],n.OPERATORS=["delete","in","instanceof","new","typeof","void"].concat(["!","!=","!==","%","%=","&","&&","&=","*","*=","+","++","+=","-","--","-=","/","/=","<","<<","<<=","<=","=","==","===",">",">=",">>",">>=",">>>",">>>=","?","^","^=","|","|=","||","~"]),n.OPERATOR_CHARS=["!","%","&","*","+","-","<","=",">","?","^","|","~"],n.WHITESPACE_CHARS=["	","\n","","\f","\r"," "," ","᠎"," "," "," "," "," "," "," "," "," "," "," ","​"," "," ","　"],n.PUNC_BEFORE_EXPRESSION=["(",",",".",":",";","[","{"],n.PUNC_CHARS=["(",")",",",":",";","[","]","{","}"],n.UNARY_PREFIX=["delete","typeof","void"].concat(["!","+","++","-","--","~"]),n.UNARY_POSTFIX=["++","--"],n.ASSIGNMENT=["%=","&=","*=","+=","-=","/=","<<=","=",">>=",">>>=","^=","|="],n.REGEXP_MODIFIERS=["g","i","m","s","y"],function(){function t(e,n,t){function o(e,n,t){if(n=n||"",1===e.length)return s+=n+"return str === "+JSON.stringify(e[0])+";\n";for(s+=n+"switch (str"+(t?".charCodeAt(0)":"")+") {\n",i=0;i<e.length;++i)s+=n+"case "+(t?e[i].charCodeAt(0):JSON.stringify(e[i]))+":\n";s+=n+"    return true;\n"+n+"}\n"+n+"return false;\n"}var r,i,a,u,s="\n",c=[],l="    ";if(e instanceof Array||(e=e.split(" ")),!t)for(r=0;r<e.length;++r){for(u=!1,i=0;i<c.length;++i)if(c[i][0].length===e[r].length){c[i].push(e[r]),u=!0;break}u||c.push([e[r]])}if(c.length>3){for(c.sort(function(e,n){return n.length-e.length}),s+=l+"switch (str.length) {\n",r=0;r<c.length;++r)a=c[r],s+=l+"case "+a[0].length+":\n",o(a,l+l);s+=l+"}\n"}else o(e,l,t);return new Function("str",s)}var o;for(o in n)n.hasOwnProperty(o)&&(e[o]=t(n[o],o,"WHITESPACE_CHARS"===o))}(),e}),define("is",["predicates"],function(e){var n={},t={letter:new RegExp("[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),digit:new RegExp("[\\u0030-\\u0039\\u0660-\\u0669\\u06F0-\\u06F9\\u07C0-\\u07C9\\u0966-\\u096F\\u09E6-\\u09EF\\u0A66-\\u0A6F\\u0AE6-\\u0AEF\\u0B66-\\u0B6F\\u0BE6-\\u0BEF\\u0C66-\\u0C6F\\u0CE6-\\u0CEF\\u0D66-\\u0D6F\\u0DE6-\\u0DEF\\u0E50-\\u0E59\\u0ED0-\\u0ED9\\u0F20-\\u0F29\\u1040-\\u1049\\u1090-\\u1099\\u17E0-\\u17E9\\u1810-\\u1819\\u1946-\\u194F\\u19D0-\\u19D9\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1B50-\\u1B59\\u1BB0-\\u1BB9\\u1C40-\\u1C49\\u1C50-\\u1C59\\uA620-\\uA629\\uA8D0-\\uA8D9\\uA900-\\uA909\\uA9D0-\\uA9D9\\uA9F0-\\uA9F9\\uAA50-\\uAA59\\uABF0-\\uABF9\\uFF10-\\uFF19]"),non_spacing_mark:new RegExp("[\\u0300-\\u036F\\u0483-\\u0487\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065E\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0900-\\u0902\\u093C\\u0941-\\u0948\\u094D\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09BC\\u09C1-\\u09C4\\u09CD\\u09E2\\u09E3\\u0A01\\u0A02\\u0A3C\\u0A41\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81\\u0A82\\u0ABC\\u0AC1-\\u0AC5\\u0AC7\\u0AC8\\u0ACD\\u0AE2\\u0AE3\\u0B01\\u0B3C\\u0B3F\\u0B41-\\u0B44\\u0B4D\\u0B56\\u0B62\\u0B63\\u0B82\\u0BC0\\u0BCD\\u0C3E-\\u0C40\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0CBC\\u0CBF\\u0CC6\\u0CCC\\u0CCD\\u0CE2\\u0CE3\\u0D41-\\u0D44\\u0D4D\\u0D62\\u0D63\\u0DCA\\u0DD2-\\u0DD4\\u0DD6\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F71-\\u0F7E\\u0F80-\\u0F84\\u0F86\\u0F87\\u0F90-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102D-\\u1030\\u1032-\\u1037\\u1039\\u103A\\u103D\\u103E\\u1058\\u1059\\u105E-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108D\\u109D\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B7-\\u17BD\\u17C6\\u17C9-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193B\\u1A17\\u1A18\\u1A56\\u1A58-\\u1A5E\\u1A60\\u1A62\\u1A65-\\u1A6C\\u1A73-\\u1A7C\\u1A7F\\u1B00-\\u1B03\\u1B34\\u1B36-\\u1B3A\\u1B3C\\u1B42\\u1B6B-\\u1B73\\u1B80\\u1B81\\u1BA2-\\u1BA5\\u1BA8\\u1BA9\\u1C2C-\\u1C33\\u1C36\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE0\\u1CE2-\\u1CE8\\u1CED\\u1DC0-\\u1DE6\\u1DFD-\\u1DFF\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2CEF-\\u2CF1\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F\\uA67C\\uA67D\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA825\\uA826\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA951\\uA980-\\uA982\\uA9B3\\uA9B6-\\uA9B9\\uA9BC\\uAA29-\\uAA2E\\uAA31\\uAA32\\uAA35\\uAA36\\uAA43\\uAA4C\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uABE5\\uABE8\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE26]"),space_combining_mark:new RegExp("[\\u0903\\u093E-\\u0940\\u0949-\\u094C\\u094E\\u0982\\u0983\\u09BE-\\u09C0\\u09C7\\u09C8\\u09CB\\u09CC\\u09D7\\u0A03\\u0A3E-\\u0A40\\u0A83\\u0ABE-\\u0AC0\\u0AC9\\u0ACB\\u0ACC\\u0B02\\u0B03\\u0B3E\\u0B40\\u0B47\\u0B48\\u0B4B\\u0B4C\\u0B57\\u0BBE\\u0BBF\\u0BC1\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCC\\u0BD7\\u0C01-\\u0C03\\u0C41-\\u0C44\\u0C82\\u0C83\\u0CBE\\u0CC0-\\u0CC4\\u0CC7\\u0CC8\\u0CCA\\u0CCB\\u0CD5\\u0CD6\\u0D02\\u0D03\\u0D3E-\\u0D40\\u0D46-\\u0D48\\u0D4A-\\u0D4C\\u0D57\\u0D82\\u0D83\\u0DCF-\\u0DD1\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0F3E\\u0F3F\\u0F7F\\u102B\\u102C\\u1031\\u1038\\u103B\\u103C\\u1056\\u1057\\u1062-\\u1064\\u1067-\\u106D\\u1083\\u1084\\u1087-\\u108C\\u108F\\u109A-\\u109C\\u17B6\\u17BE-\\u17C5\\u17C7\\u17C8\\u1923-\\u1926\\u1929-\\u192B\\u1930\\u1931\\u1933-\\u1938\\u19B0-\\u19C0\\u19C8\\u19C9\\u1A19-\\u1A1B\\u1A55\\u1A57\\u1A61\\u1A63\\u1A64\\u1A6D-\\u1A72\\u1B04\\u1B35\\u1B3B\\u1B3D-\\u1B41\\u1B43\\u1B44\\u1B82\\u1BA1\\u1BA6\\u1BA7\\u1BAA\\u1C24-\\u1C2B\\u1C34\\u1C35\\u1CE1\\u1CF2\\uA823\\uA824\\uA827\\uA880\\uA881\\uA8B4-\\uA8C3\\uA952\\uA953\\uA983\\uA9B4\\uA9B5\\uA9BA\\uA9BB\\uA9BD-\\uA9C0\\uAA2F\\uAA30\\uAA33\\uAA34\\uAA4D\\uAA7B\\uABE3\\uABE4\\uABE6\\uABE7\\uABE9\\uABEA\\uABEC]"),
connector_punctuation:new RegExp("[\\u005F\\u203F\\u2040\\u2054\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFF3F]"),identifier_string:/^[a-z_$][a-z0-9_$]*$/i};return n={},n.letter=function(e){return e>=97&&122>=e||e>=65&&90>=e||e>=170&&t.letter.test(String.fromCharCode(e))},n.is_unicode_digit=function(e){return t.digit.test(String.fromCharCode(e))},n.digit=function(e){return e>=48&&57>=e},n.alphanumeric_char=function(e){return n.digit(e)||n.letter(e)},n.unicode_combining_mark=function(e){return t.non_spacing_mark.test(e)||t.space_combining_mark.test(e)},n.unicode_connector_punctuation=function(e){return t.connector_punctuation.test(e)},n.identifier_string=function(e){return t.identifier_string.test(e)},n.identifier=function(n){return!e.RESERVED_WORDS(n)&&t.identifier_string.test(n)},n.identifier_start=function(e){return 36===e||95===e||n.letter(e)},n.identifier_char=function(e){var t=e.charCodeAt(0);return n.identifier_start(t)||n.digit(t)||8204===t||8205===t||n.unicode_combining_mark(e)||n.unicode_connector_punctuation(e)},n.token=function(e,n,t){return e.type===n&&(void 0===t||null===t||e.value===t)},n}),define("OutputStream",["defaults","is"],function(e,n){function t(t,o,r){function i(){}function a(e,n){return e.replace(/[\u0080-\uffff]/g,function(e){var t=e.charCodeAt(0).toString(16);if(t.length<=2&&!n){for(;t.length<2;)t="0"+t;return"\\x"+t}for(;t.length<4;)t="0"+t;return"\\u"+t})}function u(e,n){var o,r=0;switch(e=e.replace(/[\\\b\f\n\r\t\x22\x27\u2028\u2029\0\ufeff]/g,function(e){switch(e){case"\\":return"\\\\";case"\b":return"\\b";case"\f":return"\\f";case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";case'"':return++r,'"';case"'":return--r,"'";case String.fromCharCode(0):return"\\x00";case"\ufeff":return"\\ufeff"}return e}),t.ascii_only&&(e=a(e)),t.quote_style){case 1:o=!0;break;case 2:o=!1;break;case 3:o="'"===n;break;default:o=r>0}return e=o?"'"+e.replace(/\x27/g,"\\'")+"'":'"'+e.replace(/\x22/g,'\\"')+'"'}function s(e,n){var o=u(e,n);return t.inline_script&&(o=o.replace(/<\x2fscript([>\/\t\n\f\r ])/gi,"<\\/script$1")),o}function c(e){return e=e.toString(),t.ascii_only&&(e=a(e,!0)),e}function l(e,n){var t="";if(1>n)return"";if(1===n)return e;for(;n>1;)1&n&&(t+=e),n>>=1,e+=e;return t+e}function f(e){return l(" ",t.indent_start+j-e*t.indent_level)}function p(){return K.charAt(K.length-1)}function d(e){switch(e){case"(":case"*":case"+":case",":case"-":case".":case"/":case"[":return!0}return!1}function h(e){var o,r,i,a,u;if(e=String(e),o=e.charAt(0),Y&&(o&&!(";}".indexOf(o)<0)||/[;]$/.test(K)||(t.semicolons||d(o)?(W+=";",I++,H++):(W+="\n",H++,z++,I=0),t.beautify||(V=!1)),Y=!1,$()),!t.beautify&&t.preserve_line&&G[G.length-1])for(r=G[G.length-1].start.line;r>z;)W+="\n",H++,z++,I=0,V=!1;V&&(i=p(),(n.identifier_char(i)&&(n.identifier_char(o)||"\\"===o)||/^[\+\-\/]$/.test(o)&&o===i)&&(W+=" ",I++,H++),V=!1),a=e.split(/\r?\n/),u=a.length-1,z+=u,0===u?I+=a[u].length:I=a[u].length,H+=e.length,K=e,W+=e}function m(){return j+t.indent_level}function y(){Y=!1,h(";")}function b(e){var n;return h("{"),M(),N(m(),function(){n=e()}),P(),h("}"),n}function _(e){var n;return h("("),n=e(),h(")"),n}function g(e){var n;return h("["),n=e(),h("]"),n}function v(){h(","),q()}function S(){h(":"),t.space_colon&&q()}function A(){return W}function w(){return I-j}function E(){return t.width&&w()>=t.width}function D(e){h(c(e))}function C(e,n){h(s(e,n))}function B(e){return t[e]}function F(){return z}function k(){return I}function x(){return H}function T(e){G.push(e)}function O(){return G.pop()}function R(e){return G[G.length-2-(e||0)]}var $,q,P,N,M,U,L,j=0,I=0,z=1,H=0,W="",V=!1,Y=!1,K=null,G=[];return t=e(t,{indent_start:0,indent_level:4,quote_keys:!1,space_colon:!0,ascii_only:!1,unescape_regexps:!1,inline_script:!1,width:80,max_line_len:32e3,beautify:!1,source_map:null,bracketize:!1,semicolons:!0,comments:!1,preserve_line:!1,screw_ie8:!1,preamble:null,quote_style:0},r||!0),$=function(){t.max_line_len&&I>t.max_line_len&&h("\n")},q=t.beautify?function(){h(" ")}:function(){V=!0},P=t.beautify?function(e){t.beautify&&h(f(e?.5:0))}:i,N=t.beautify?function(e,n){var t,o;return e===!0&&(e=m()),t=j,j=e,o=n(),j=t,o}:function(e,n){return n()},M=t.beautify?function(){h("\n")}:$,U=t.beautify?function(){h(";")}:function(){Y=!0},L=t.source_map?function(e,n){try{e&&t.source_map.add(e.file||"?",z,I,e.line,e.col,n||"name"!==e.type?n:e.value)}catch(r){o("Couldn't figure out mapping for {file}:{line},{col} → {cline},{ccol} [{name}]",{file:e.file,line:e.line,col:e.col,cline:z,ccol:I,name:n||""})}}:i,t.preamble&&h(t.preamble.replace(/\r\n?|[\n\u2028\u2029]|\s*$/g,"\n")),{get:A,toString:A,indent:P,indentation:function(){return j},current_width:w,should_break:E,newline:M,print:h,space:q,comma:v,colon:S,last:function(){return K},semicolon:U,force_semicolon:y,to_ascii:a,print_name:D,print_string:C,next_indent:m,with_indent:N,with_block:b,with_parens:_,with_square:g,add_mapping:L,option:B,line:F,col:k,pos:x,push_node:T,pop_node:O,stack:function(){return G},parent:R}}return t}),define("find_if",[],function(){function e(e,n){var t,o=n.length;for(t=0;o>t;++t)if(e(n[t]))return n[t]}return e}),define("JS_Parse_Error",[],function(){function e(e,n,t,o,r){this.message=e,this.filename=n,this.line=t,this.col=o,this.pos=r,this.stack=(new Error).stack}return e.prototype.toString=function(){return this.message+' (filename: "'+this.filename+'", line: '+this.line+", col: "+this.col+", pos: "+this.pos+")\n\n"+this.stack},e}),define("js_error",["JS_Parse_Error"],function(e){function n(n,t,o,r,i){throw new e(n,t,o,r,i)}return n}),define("precedence",[],function(){function e(e){switch(e){case"||":return 1;case"&&":return 2;case"|":return 3;case"^":return 4;case"&":return 5;case"==":case"===":case"!=":case"!==":return 6;case"<":case">":case"<=":case">=":case"in":case"instanceof":return 7;case">>":case"<<":case">>>":return 8;case"+":case"-":return 9;case"*":case"/":case"%":return 10;default:return null}}return e}),define("parse",["defaults","find_if","js_error","precedence","predicates","is"],function(e,n,t,o,r,i){function a(e,n,o,a){function u(){return R.text.charAt(R.pos)}function s(e,n){var t=R.text.charAt(R.pos);if(++R.pos,e&&!t)throw q;switch(t){case"\r":case"\n":case"\u2028":case"\u2029":R.newline_before=R.newline_before||!n,++R.line,R.col=0,n||"\r"!==t||"\n"!==u()||(++R.pos,t="\n");break;default:++R.col}return t}function c(e){for(;e>0;)s(),--e}function l(e){return R.text.substr(R.pos,e.length)===e}function f(e,n){var t=R.text.indexOf(e,R.pos);if(n&&-1===t)throw q;return t}function p(){R.tokline=R.line,R.tokcol=R.col,R.tokpos=R.pos}function d(n,t,i){var a,u,s;if(R.regex_allowed="operator"===n&&!r.UNARY_POSTFIX(t)||"keyword"===n&&r.KEYWORDS_BEFORE_EXPRESSION(t)||"punc"===n&&r.PUNC_BEFORE_EXPRESSION(t),$="punc"===n&&"."===t,a={type:n,value:t,line:R.tokline,col:R.tokcol,pos:R.tokpos,endline:R.line,endcol:R.col,endpos:R.pos,nlb:R.newline_before,file:o},!i)for(a.comments_before=R.comments_before,R.comments_before=[],u=0,s=a.comments_before.length;s>u;++u)a.nlb=a.nlb||a.comments_before[u].nlb;return R.newline_before=!1,new e.Token(a)}function h(){for(;r.WHITESPACE_CHARS(u());)s()}function m(e){for(var n="",t=u(),o=0;t&&e(t,o);)n+=s(),t=u(),++o;return n}function y(e){t(e,o,R.tokline,R.tokcol,R.tokpos)}function b(e){return/^0x[0-9a-f]+$/i.test(e)?parseInt(e.substr(2),16):/^0[0-7]+$/.test(e)?parseInt(e.substr(1),8):/^\d*\.?\d*(?:e[+\-]?\d*(?:\d\.?|\.?\d)\d*)?$/i.test(e)?parseFloat(e):void 0}function _(e){var n,t=!1,o=!1,r=!1,a="."===e,u=m(function(n,u){var s=n.charCodeAt(0);switch(s){case 120:case 88:return r?!1:(r=!0,!0);case 101:case 69:return r?!0:t?!1:(t=o=!0,!0);case 45:return o||0===u&&!e;case 43:return o;case 46:return o=!1,a||r||t?!1:(a=!0,!0);default:return o=!1,i.alphanumeric_char(s)}});return e&&(u=e+u),n=b(u),isNaN(n)?void y("Invalid syntax: "+u):d("num",n)}function g(e){for(var n,t=0;e>0;)n=parseInt(s(!0),16),isNaN(n)&&y("Invalid hex-character pattern in string"),t=t<<4|n,--e;return t}function v(e){var n=s(!0,e);switch(n.charCodeAt(0)){case 110:return"\n";case 114:return"\r";case 116:return"	";case 98:return"\b";case 118:return"";case 102:return"\f";case 48:return String.fromCharCode(0);case 120:return String.fromCharCode(g(2));case 117:return String.fromCharCode(g(4));case 10:return"";default:return n}}function S(e,n){return function(t){try{return n(t)}catch(o){if(o!==q)throw o;y(e)}}}function A(e){var n,t,o="";do t=u(),n=t&&t>="0"&&"7">=t&&(o.length<2||2===o.length&&o[0]<"4"),n&&(o+=t,s(e));while(n);return o.length?String.fromCharCode(parseInt(o,8)):v(!0)}function w(e){var n,t=R.regex_allowed,o=f("\n");return-1===o?(n=R.text.substr(R.pos),R.pos=R.text.length):(n=R.text.substring(R.pos,o),R.pos=o),R.col=R.tokcol+(R.pos-R.tokpos),R.comments_before.push(d(e,n,!0)),R.regex_allowed=t,k()}function E(){for(var e,n=!1,t="",o=u(),a=!1;o;){if(n)"u"!==o&&y("Expecting UnicodeEscapeSequence -- uXXXX"),o=v(),i.identifier_char(o)||y("Unicode char: "+o.charCodeAt(0)+" is not valid in identifier"),t+=o,n=!1;else if("\\"===o)a=n=!0,s();else{if(!i.identifier_char(o))break;t+=s()}o=u()}return r.KEYWORDS(t)&&a&&(e=t.charCodeAt(0).toString(16).toUpperCase(),t="\\u"+"0000".substr(e.length)+e+t.slice(1)),t}function D(e){function n(e){var t;return u()?(t=e+u(),r.OPERATORS(t)?(s(),n(t)):e):e}return d("operator",n(e||s()))}function C(){switch(s(),u()){case"/":return s(),w("comment1");case"*":return s(),T()}return R.regex_allowed?O(""):D("/")}function B(){return s(),i.digit(u().charCodeAt(0))?_("."):d("punc",".")}function F(){var e=E();return $?d("name",e):r.KEYWORDS_ATOM(e)?d("atom",e):r.KEYWORDS(e)?r.OPERATORS(e)?d("operator",e):d("keyword",e):d("name",e)}var k,x,T,O,R={text:n.replace(/\uFEFF/g,""),filename:o,pos:0,tokpos:0,line:1,tokline:0,col:0,tokcol:0,newline_before:!1,regex_allowed:!1,comments_before:[]},$=!1,q={};return x=S("Unterminated string constant",function(e){var n,t,o=s(),r="",i=!1;do n=s(!0),"\\"===n?r+=A(!0):n!==o?r+=n:i=!0;while(!i);return t=d("string",r),t.quote=e,t}),T=S("Unterminated multiline comment",function(){var e,n=R.regex_allowed,t=f("*/",!0),o=R.text.substring(R.pos,t),r=o.split("\n"),i=r.length;return R.pos=t+2,R.line+=i-1,i>1?R.col=r[i-1].length:R.col+=r[i-1].length,R.col+=2,e=R.newline_before=R.newline_before||o.indexOf("\n")>=0,R.comments_before.push(d("comment2",o,!0)),R.regex_allowed=n,R.newline_before=e,k()}),O=S("Unterminated regular expression",function(e){for(var n,t=!1,o=!1,r=s(!0);r;){if(t)e+="\\"+r,t=!1;else if("\\"===r)t=!0;else if("["===r)o=!0,e+=r;else if(o)"]"===r&&(o=!1),e+=r;else{if("/"===r)break;e+=r}r=s(!0)}return n=E(),d("regexp",new RegExp(e,n))}),k=function(e){var n,t;if(e)return O(e);if(h(),p(),a){if(l("<!--"))return c(4),w("comment3");if(l("-->")&&R.newline_before)return c(3),w("comment4")}if(n=u(),!n)return d("eof");switch(t=n.charCodeAt(0)){case 34:case 39:return x(n);case 46:return B();case 47:return C()}return i.digit(t)?_():r.PUNC_CHARS(n)?d("punc",s()):r.OPERATOR_CHARS(n)?D():92===t||i.identifier_start(t)?F():void y("Unexpected character '"+n+"'")},k.context=function(e){return e&&(R=e),R},k}function u(u,s,c){function l(e,n){return i.token(W.token,e,n)}function f(){return W.peeked||(W.peeked=W.input()),W.peeked}function p(){return W.prev=W.token,W.peeked?(W.token=W.peeked,W.peeked=null):W.token=W.input(),W.in_directives=W.in_directives&&("string"===W.token.type||l("punc",";")),W.token}function d(){return W.prev}function h(e,n,o,r){var i=W.input.context();n=0===n?0:n||i.tokline,o=0===o?0:o||i.tokcol,r=0===r?0:r||i.tokpos,t(e,i.filename,n,o,r)}function m(e,n){h(n,e.line,e.col)}function y(){var e=W.token;m(e,"Unexpected token: "+e.type+" ("+e.value+")")}function b(e,n){var t=W.token;return l(e,n)?p():void m(t,"Unexpected token "+t.type+" «"+t.value+"», expected "+e+" «"+n+"»")}function _(e){return b("punc",e)}function g(){return!c.strict&&(W.token.nlb||l("eof")||l("punc","}"))}function v(){l("punc",";")?p():g()||y()}function S(){var e;return _("("),e=ie(!0),_(")"),e}function A(e){return function(){var n=W.token,t=e(),o=d();return t.start=n,t.end=o,t}}function w(){(l("operator","/")||l("operator","/="))&&(W.peeked=null,W.token=W.input(W.token.value.substr(1)))}function E(e){return e=ie(!0),v(),new u.SimpleStatement({body:e})}function D(e){var n=W.token,t=n.value,o={name:String(t),start:n,end:n};return"this"===t&&(e=u.This),new e(o)}function C(e,n){var t;return l("name")?(t=D(e),p(),t):(n||h("Name expected"),null)}function B(e){var t,o,r=null;return g()||(r=C(u.LabelRef,!0)),r?(t=n(function(e){return e.name===r.name},W.labels),t||h("Undefined label "+r.name),r.thedef=t):W.in_loop||h(e.TYPE+" not inside a loop or switch"),v(),o=new e({label:r}),t&&t.references.push(o),o}function F(e){var n;return++W.in_loop,n=e(),--W.in_loop,n}function k(e){var n,t;return _(";"),n=l("punc",";")?null:ie(!0),_(";"),t=l("punc",")")?null:ie(!0),_(")"),new u.For({init:e,condition:n,step:t,body:F(V)})}function x(e){var n=e instanceof u.Var?e.definitions[0].name:null,t=ie(!0);return _(")"),new u.ForIn({init:e,name:n,object:t,body:F(V)})}function T(){var e=null;return _("("),!l("punc",";")&&(l("keyword","var")?(p(),e=K(!0)):e=ie(!0,!0),l("operator","in"))?(e instanceof u.Var&&e.definitions.length>1&&h("Only one variable declaration allowed in for..in loop"),p(),x(e)):k(e)}function O(){var e,t=C(u.Label);return n(function(e){return e.name===t.name},W.labels)&&h("Label "+t.name+" defined twice"),_(":"),W.labels.push(t),e=V(),W.labels.pop(),e instanceof u.IterationStatement||t.references.forEach(function(e){e instanceof u.Continue&&(e=e.label.start,h("Continue label `"+t.name+"` refers to non-IterationStatement.",e.line,e.col,e.pos))}),new u.LabeledStatement({body:e,label:t})}function R(){var e=S(),n=V(),t=null;return l("keyword","else")&&(p(),t=V()),new u.If({condition:e,body:n,alternative:t})}function $(){var e=[];for(_("{");!l("punc","}");)l("eof")&&y(),e.push(V());return p(),e}function q(){var e,n,t=$(),o=null,r=null;return l("keyword","catch")&&(e=W.token,p(),_("("),n=C(u.SymbolCatch),_(")"),o=new u.Catch({start:e,argname:n,body:$(),end:d()})),l("keyword","finally")&&(e=W.token,p(),r=new u.Finally({start:e,body:$(),end:d()})),o||r||h("Missing catch/finally blocks"),new u.Try({body:t,bcatch:o,bfinally:r})}function P(){var e,n=[],t=null,o=null;for(_("{");!l("punc","}");)l("eof")&&y(),l("keyword","case")?(o&&(o.end=d()),t=[],e=W.token,p(),o=new u.Case({start:e,expression:ie(!0),body:t}),n.push(o),_(":")):l("keyword","default")?(o&&(o.end=d()),t=[],e=W.token,p(),_(":"),o=new u.Default({start:e,body:t}),n.push(o)):(t||y(),t.push(V()));return o&&(o.end=d()),p(),n}function N(e,n){for(var t,o,r=[];;){if(o=null,t=C(n?u.SymbolConst:u.SymbolVar),l("operator","=")&&(p(),o=ie(!1,e)),r.push(new u.VarDef({start:W.token,name:t,value:o,end:d()})),!l("punc",","))break;p()}return r}function M(e,n,t){for(var o=!0,r=[];!l("punc",e)&&(o?o=!1:_(","),!n||!l("punc",e));)r.push(l("punc",",")&&t?new u.Hole({start:W.token,end:W.token}):ie(!1));return p(),r}function U(){var e,n=W.token;switch(n.type){case"name":case"keyword":e=D(u.SymbolRef);break;case"num":e=new u.Number({start:n,end:n,value:n.value});break;case"string":e=new u.String({start:n,end:n,value:n.value,quote:n.quote});break;case"regexp":e=new u.RegExp({start:n,end:n,value:n.value});break;case"atom":switch(n.value){case"false":e=new u.False({start:n,end:n});break;case"true":e=new u.True({start:n,end:n});break;case"null":e=new u.Null({start:n,end:n})}}return p(),e}function L(){var e=W.token;switch(p(),e.type){case"num":case"string":case"name":case"operator":case"keyword":case"atom":return e.value;default:y()}}function j(){var e=W.token;switch(p(),e.type){case"name":case"operator":case"keyword":case"atom":return e.value;default:y()}}function I(e){return c.strict?e instanceof u.This?!1:e instanceof u.PropAccess||e instanceof u.Symbol:!0}function z(e,n,t){return"++"!==n&&"--"!==n||I(t)||h("Invalid use of "+n+" operator"),new e({operator:n,expression:t})}function H(e){return te(ne(!0),0,e)}var W,V,Y,K,G,X,J,Z,Q,ee,ne,te,oe,re,ie;return c=e(c,{strict:!1,filename:null,toplevel:null,expression:!1,html5_comments:!0,bare_returns:!1}),W={input:"string"==typeof s?a(u,s,c.filename,c.html5_comments):s,token:null,prev:null,peeked:null,in_function:0,in_directives:!0,in_loop:0,labels:[]},W.token=p(),V=A(function(){var e,n,t,o;switch(w(),W.token.type){case"string":return n=W.in_directives,t=E(),n&&t.body instanceof u.String&&!l("punc",",")?new u.Directive({start:t.body.start,end:t.body.end,quote:t.body.quote,value:t.body.value}):t;case"num":case"regexp":case"operator":case"atom":return E();case"name":return i.token(f(),"punc",":")?O():E();case"punc":switch(W.token.value){case"{":return new u.BlockStatement({start:W.token,body:$(),end:d()});case"[":case"(":return E();case";":return p(),new u.EmptyStatement;default:y()}break;case"keyword":switch(e=W.token.value,p(),e){case"break":return B(u.Break);case"continue":return B(u.Continue);case"debugger":return v(),new u.Debugger;case"do":return o=F(V),b("keyword","while"),e=S(),v(),new u.Do({body:o,condition:e});case"while":return new u.While({condition:S(),body:F(V)});case"for":return T();case"function":return Y(u.Defun);case"if":return R();case"return":return e=null,W.in_function||c.bare_returns||h("'return' outside of function"),l("punc",";")?p():g()||(e=ie(!0),v()),new u.Return({value:e});case"switch":return new u.Switch({expression:S(),body:F(P)});case"throw":return W.token.nlb&&h("Illegal newline after 'throw'"),e=ie(!0),v(),new u.Throw({value:e});case"try":return q();case"var":return e=K(),v(),e;case"const":return e=G(),v(),e;case"with":return new u.With({expression:S(),body:V()});default:y()}}}),Y=function(e){var n=e===u.Defun,t=null;return l("name")&&(t=C(n?u.SymbolDefun:u.SymbolLambda)),n&&!t&&y(),_("("),new e({name:t,argnames:function(e,n){for(;!l("punc",")");)e?e=!1:_(","),n.push(C(u.SymbolFunarg));return p(),n}(!0,[]),body:function(e,n){var t;return++W.in_function,W.in_directives=!0,W.in_loop=0,W.labels=[],t=$(),--W.in_function,W.in_loop=e,W.labels=n,t}(W.in_loop,W.labels)})},K=function(e){return new u.Var({start:d(),definitions:N(e,!1),end:d()})},G=function(){return new u.Const({start:d(),definitions:N(!1,!0),end:d()})},X=function(){var e,n,t=W.token;return b("operator","new"),e=J(!1),l("punc","(")?(p(),n=M(")")):n=[],ee(new u.New({start:t,expression:e,args:n,end:d()}),!0)},J=function(e){var n,t,o;if(l("operator","new"))return X();if(n=W.token,l("punc")){switch(n.value){case"(":return p(),o=ie(!0),o.start=n,o.end=W.token,_(")"),ee(o,e);case"[":return ee(Z(),e);case"{":return ee(Q(),e)}y()}if(l("keyword","function"))return p(),t=Y(u.Function),t.start=n,t.end=d(),ee(t,e);switch(W.token.type){case"atom":case"num":case"string":case"regexp":case"name":return ee(U(),e)}y()},Z=A(function(){return _("["),new u.Array({elements:M("]",!c.strict,!0)})}),Q=A(function(){var e,n,t,o,r=!0,i=[];for(_("{");!l("punc","}")&&(r?r=!1:_(","),c.strict||!l("punc","}"));)e=W.token,n=e.type,t=L(),o=!1,"name"!==n||l("punc",":")||("get"===t?(i.push(new u.ObjectGetter({start:e,key:U(),value:Y(u.Accessor),end:d()})),o=!0):"set"===t&&(i.push(new u.ObjectSetter({start:e,key:U(),value:Y(u.Accessor),end:d()})),o=!0)),o||(_(":"),i.push(new u.ObjectKeyVal({start:e,quote:e.quote,key:t,value:ie(!1),end:d()})));return p(),new u.Object({properties:i})}),ee=function(e,n){var t,o=e.start;return l("punc",".")?(p(),ee(new u.Dot({start:o,expression:e,property:j(),end:d()}),n)):l("punc","[")?(p(),t=ie(!0),_("]"),ee(new u.Sub({start:o,expression:e,property:t,end:d()}),n)):n&&l("punc","(")?(p(),ee(new u.Call({start:o,expression:e,args:M(")"),end:d()}),!0)):e},ne=function(e){var n,t,o=W.token;if(l("operator")&&r.UNARY_PREFIX(o.value))return p(),w(),n=z(u.UnaryPrefix,o.value,ne(e)),n.start=o,n.end=d(),n;for(t=J(e);l("operator")&&r.UNARY_POSTFIX(W.token.value)&&!W.token.nlb;)t=z(u.UnaryPostfix,W.token.value,t),t.start=o,t.end=W.token,p();return t},te=function(e,n,t){var r,i,a=l("operator")?W.token.value:null;return"in"===a&&t&&(a=null),r=a?o(a):null,null!==r&&r>n?(p(),i=te(ne(!0),r,t),te(new u.Binary({start:e.start,left:e,operator:a,right:i,end:i.end}),n,t)):e},oe=function(e){var n,t=W.token,o=H(e);return l("operator","?")?(p(),n=ie(!1),_(":"),new u.Conditional({start:t,condition:o,consequent:n,alternative:ie(!1,e),end:d()})):o},re=function(e){var n=W.token,t=oe(e),o=W.token.value;if(l("operator")&&r.ASSIGNMENT(o)){if(I(t))return p(),new u.Assign({start:n,left:t,operator:o,right:re(e),end:d()});h("Invalid assignment")}return t},ie=function(e,n){var t=W.token,o=re(n);return e&&l("punc",",")?(p(),new u.Seq({start:t,car:o,cdr:ie(!0,n),end:f()})):o},c.expression?ie(!0):function(){for(var e,n,t=W.token,o=[];!l("eof");)o.push(V());return e=d(),n=c.toplevel,n?(n.body=n.body.concat(o),n.end=e):n=new u.Toplevel({start:t,body:o,end:e}),n}()}return u}),define("MAP",[],function(){function e(e){this.v=e}function n(e){this.v=e}function t(e){this.v=e}function o(o,i,a){function u(){var u=i(o[s],s),f=u instanceof t;return f&&(u=u.v),u instanceof e?(u=u.v,u instanceof n?l.push.apply(l,a?u.v.slice().reverse():u.v):l.push(u)):u!==r&&(u instanceof n?c.push.apply(c,a?u.v.slice().reverse():u.v):c.push(u)),f}var s,c=[],l=[];if(o instanceof Array)if(a){for(s=o.length-1;s>=0&&!u();--s);c.reverse(),l.reverse()}else for(s=0;s<o.length&&!u();++s);else for(s in o)if(o.hasOwnProperty(s)&&u())break;return l.concat(c)}var r;return r=o.skip={},o.at_top=function(n){return new e(n)},o.splice=function(e){return new n(e)},o.last=function(e){return new t(e)},o}),define("Dictionary",[],function(){function e(){this._values=Object.create(null),this._size=0}return e.prototype={set:function(e,n){return this.has(e)||++this._size,this._values["$"+e]=n,this},add:function(e,n){return this.has(e)?this.get(e).push(n):this.set(e,[n]),this},get:function(e){return this._values["$"+e]},del:function(e){return this.has(e)&&(--this._size,delete this._values["$"+e]),this},has:function(e){return Object.prototype.hasOwnProperty.call(this._values,"$"+e)},each:function(e){var n;for(n in this._values)Object.prototype.hasOwnProperty.call(this._values,n)&&e(this._values[n],n.substr(1))},size:function(){return this._size},map:function(e){var n,t=[];for(n in this._values)Object.prototype.hasOwnProperty.call(this._values,n)&&t.push(e(this._values[n],n.substr(1)));return t}},e}),define("merge_sort",[],function(){function e(e,n){function t(e,t){for(var o=[],r=0,i=0,a=0;r<e.length&&i<t.length;)o[a++]=n(e[r],t[i])<=0?e[r++]:t[i++];return r<e.length&&o.push.apply(o,e.slice(r)),i<t.length&&o.push.apply(o,t.slice(i)),o}function o(e){var n,r,i;return e.length<=1?e:(n=Math.floor(e.length/2),r=e.slice(0,n),i=e.slice(n),r=o(r),i=o(i),t(r,i))}return e.length<2?e.slice():o(e)}return e}),define("add_compress_fns_to_AST",["TreeWalker","find_if","get_warn","JS_Parse_Error","precedence","predicates","is","parse","MAP","TreeTransformer","Dictionary","merge_sort","OutputStream","Compressor"],function(e,n,t,o,r,i,a,u,s,c,l,f,p,d){function h(h,m,y){function b(e,n){e.DEFMETHOD("optimize",function(e){var t,o=this;return o._optimized?o:(t=n(o,e),t._optimized=!0,t===o?t:t.transform(e))})}function _(e,n,t){return t||(t={}),n&&(t.start||(t.start=n.start),t.end||(t.end=n.end)),new e(t)}function g(e,n,t){if(n instanceof h.Node)return n.transform(e);switch(typeof n){case"string":return _(h.String,t,{value:n}).optimize(e);case"number":return _(isNaN(n)?h.NaN:h.Number,t,{value:n}).optimize(e);case"boolean":return _(n?h.True:h.False,t).optimize(e);case"undefined":return _(h.Undefined,t).optimize(e);default:if(null===n)return _(h.Null,t,{value:null}).optimize(e);if(n instanceof RegExp)return _(h.RegExp,t,{value:n}).optimize(e);throw new Error("Can't handle constant of type: "+typeof n)}}function v(e){if(null===e)return[];if(e instanceof h.BlockStatement)return e.body;if(e instanceof h.EmptyStatement)return[];if(e instanceof h.Statement)return[e];throw new Error("Can't convert thing to statement array")}function S(e){return null===e?!0:e instanceof h.EmptyStatement?!0:e instanceof h.BlockStatement?0===e.body.length:!1}function A(e){return e instanceof h.Switch?e:(e instanceof h.For||e instanceof h.ForIn||e instanceof h.DWLoop)&&e.body instanceof h.BlockStatement?e.body:e}function w(e){return e&&e.aborts()}function E(n,t,o){n.warn("Dropping unreachable code [{file}:{line},{col}]",t.start),t.walk(new e(function(e){return e instanceof h.Definitions?(n.warn("Declarations in unreachable code! [{file}:{line},{col}]",e.start),e.remove_initializers(),o.push(e),!0):e instanceof h.Defun?(o.push(e),!0):e instanceof h.Scope?!0:void 0}))}function D(e,n){var t;for(t=e.length-1;t>=0;--t)e[t]===n&&e.splice(t,1)}function C(n,t){function o(e){function n(e){return/@ngInject/.test(e.value)}function o(e){return e.argnames.map(function(e){return _(h.String,e,{value:e.name})})}function r(e,n){return _(h.Array,e,{elements:n})}function i(e,n){return _(h.SimpleStatement,e,{body:_(h.Assign,e,{operator:"=",left:_(h.Dot,n,{expression:_(h.SymbolRef,n,n),property:"$inject"}),right:r(e,o(e))})})}function a(e){e&&e.args&&(e.args.forEach(function(e,t,i){var a=e.start.comments_before;e instanceof h.Lambda&&a.length&&n(a[0])&&(i[t]=r(e,o(e).concat(e)))}),e.expression&&e.expression.expression&&a(e.expression.expression))}return e.reduce(function(e,o){var r,u,s;return e.push(o),o.body&&o.body.args?a(o.body):(r=o.start,u=r.comments_before,u&&u.length>0&&(s=u.pop(),n(s)&&(o instanceof h.Defun?e.push(i(o,o.name)):o instanceof h.Definitions?o.definitions.forEach(function(n){n.value&&n.value instanceof h.Lambda&&e.push(i(n.value,n.name))}):t.warn("Unknown statement marked with @ngInject [{file}:{line},{col}]",r)))),e},[])}function r(e){var n=[];return e.reduce(function(e,t){return t instanceof h.BlockStatement?(p=!0,e.push.apply(e,r(t.body))):t instanceof h.EmptyStatement?p=!0:t instanceof h.Directive?n.indexOf(t.value)<0?(e.push(t),n.push(t.value)):p=!0:e.push(t),e},[])}function i(e,n){var t,o,r,i,a,u,s=n.self(),c=s instanceof h.Lambda,l=[];for(t=e.length-1;t>=0;--t)if(o=e[t],c&&o instanceof h.Return&&!o.value&&0===l.length)p=!0;else if(o instanceof h.If){if(o.body instanceof h.Return){if((c&&0===l.length||l[0]instanceof h.Return&&!l[0].value)&&!o.body.value&&!o.alternative){p=!0,r=_(h.SimpleStatement,o.condition,{body:o.condition}),l.unshift(r);continue}if(l[0]instanceof h.Return&&o.body.value&&l[0].value&&!o.alternative){p=!0,o=o.clone(),o.alternative=l[0],l[0]=o.transform(n);continue}if((0===l.length||l[0]instanceof h.Return)&&o.body.value&&!o.alternative&&c){p=!0,o=o.clone(),o.alternative=l[0]||_(h.Return,o,{value:_(h.Undefined,o)}),l[0]=o.transform(n);continue}if(!o.body.value&&c){p=!0,o=o.clone(),o.condition=o.condition.negate(n),o.body=_(h.BlockStatement,o,{body:v(o.alternative).concat(l)}),o.alternative=null,l=[o.transform(n)];continue}if(1===l.length&&c&&l[0]instanceof h.SimpleStatement&&(!o.alternative||o.alternative instanceof h.SimpleStatement)){p=!0,l.push(_(h.Return,l[0],{value:_(h.Undefined,l[0])}).transform(n)),l=v(o.alternative).concat(l),l.unshift(o);continue}}if(i=w(o.body),a=i instanceof h.LoopControl?n.loopcontrol_target(i.label):null,i&&(i instanceof h.Return&&!i.value&&c||i instanceof h.Continue&&s===A(a)||i instanceof h.Break&&a instanceof h.BlockStatement&&s===a)){i.label&&D(i.label.thedef.references,i),p=!0,u=v(o.body).slice(0,-1),o=o.clone(),o.condition=o.condition.negate(n),o.body=_(h.BlockStatement,o,{body:v(o.alternative).concat(l)}),o.alternative=_(h.BlockStatement,o,{body:u}),l=[o.transform(n)];continue}if(i=w(o.alternative),a=i instanceof h.LoopControl?n.loopcontrol_target(i.label):null,i&&(i instanceof h.Return&&!i.value&&c||i instanceof h.Continue&&s===A(a)||i instanceof h.Break&&a instanceof h.BlockStatement&&s===a)){i.label&&D(i.label.thedef.references,i),p=!0,o=o.clone(),o.body=_(h.BlockStatement,o.body,{body:v(o.body).concat(l)}),o.alternative=_(h.BlockStatement,o.alternative,{body:v(o.alternative).slice(0,-1)}),l=[o.transform(n)];continue}l.unshift(o)}else l.unshift(o);return l}function a(e,n){var t=!1,o=e.length,r=n.self();return e=e.reduce(function(e,o){var i;return t?E(n,o,e):(o instanceof h.LoopControl?(i=n.loopcontrol_target(o.label),o instanceof h.Break&&i instanceof h.BlockStatement&&A(i)===r||o instanceof h.Continue&&A(i)===r?o.label&&D(o.label.thedef.references,o):e.push(o)):e.push(o),w(o)&&(t=!0)),e},[]),p=e.length!==o,e}function u(n,t){function o(e){r.pop();var n=i.body;return n instanceof h.Seq?n.add(e):n=h.Seq.cons(n,e),n.transform(t)}var r=[],i=null;return n.forEach(function(n){var t;if(i)if(n instanceof h.For){t={};try{i.body.walk(new e(function(e){if(e instanceof h.Binary&&"in"===e.operator)throw t})),!n.init||n.init instanceof h.Definitions?n.init||(n.init=i.body,r.pop()):n.init=o(n.init)}catch(a){if(a!==t)throw a}}else n instanceof h.If?n.condition=o(n.condition):n instanceof h.With?n.expression=o(n.expression):n instanceof h.Exit&&n.value?n.value=o(n.value):n instanceof h.Exit?n.value=o(_(h.Undefined,n)):n instanceof h.Switch&&(n.expression=o(n.expression));r.push(n),i=n instanceof h.SimpleStatement?n:null}),r}function s(e,n){function t(){o=h.Seq.from_array(o),o&&r.push(_(h.SimpleStatement,o,{body:o})),o=[]}var o,r;return e.length<2?e:(o=[],r=[],e.forEach(function(e){e instanceof h.SimpleStatement?o.push(e.body):(t(),r.push(e))}),t(),r=u(r,n),p=r.length!==e.length,r)}function l(e){var n=null;return e.reduce(function(e,t){return t instanceof h.Definitions&&n&&n.TYPE===t.TYPE?(n.definitions=n.definitions.concat(t.definitions),p=!0):t instanceof h.For&&n instanceof h.Definitions&&(!t.init||t.init.TYPE===n.TYPE)?(p=!0,e.pop(),t.init?t.init.definitions=n.definitions.concat(t.init.definitions):t.init=n,e.push(t),n=t):(n=t,e.push(t)),e},[])}function f(e){e.forEach(function(e){e instanceof h.SimpleStatement&&(e.body=function n(e){return e.transform(new c(function(e){if(e instanceof h.Call&&e.expression instanceof h.Function)return _(h.UnaryPrefix,e,{operator:"!",expression:e});if(e instanceof h.Call)e.expression=n(e.expression);else if(e instanceof h.Seq)e.car=n(e.car);else if(e instanceof h.Conditional){var t,o=n(e.condition);o!==e.condition&&(e.condition=o,t=e.consequent,e.consequent=e.alternative,e.alternative=t)}return e}))}(e.body))})}var p;do p=!1,t.option("angular")&&(n=o(n)),n=r(n),t.option("dead_code")&&(n=a(n,t)),t.option("if_return")&&(n=i(n,t)),t.option("sequences")&&(n=s(n,t)),t.option("join_vars")&&(n=l(n,t));while(p);return t.option("negate_iife")&&f(n,t),n}function B(e,n){return e.print_to_string().length>n.print_to_string().length?n:e}function F(e,n){function t(t){t=v(t),e.body instanceof h.BlockStatement?(e.body=e.body.clone(),e.body.body=t.concat(e.body.body.slice(1)),e.body=e.body.transform(n)):e.body=_(h.BlockStatement,e.body,{body:t}).transform(n),F(e,n)}var o;o=e.body instanceof h.BlockStatement?e.body.body[0]:e.body,o instanceof h.If&&(o.body instanceof h.Break&&n.loopcontrol_target(o.body.label)===e?(e.condition=e.condition?_(h.Binary,e.condition,{left:e.condition,operator:"&&",right:o.condition.negate(n)}):o.condition.negate(n),t(o.alternative)):o.alternative instanceof h.Break&&n.loopcontrol_target(o.alternative.label)===e&&(e.condition=e.condition?_(h.Binary,e.condition,{left:e.condition,operator:"&&",right:o.condition}):o.condition,t(o.body)))}function k(e,n){var t;for(t=e.length-1;t>=0;--t)if(!n(e[t]))return!1;return!0}function x(e,n){var t,o;return t=n.option("pure_getters"),n.options.pure_getters=!1,o=e.has_side_effects(n),n.options.pure_getters=t,o}function T(e,n){return n.option("booleans")&&n.in_boolean_context()?_(h.True,e):e}h.has_compress_support||(b(h.Node,function(e){return e}),h.Node.DEFMETHOD("equivalent_to",function(e){return this.print_to_string()===e.print_to_string()}),function(e){e(h.Node,function(){return!1}),e(h.UnaryPrefix,function(){switch(this.operator){case"!":case"delete":return!0;default:return!1}}),e(h.Binary,function(){switch(this.operator){case"in":case"instanceof":case"==":case"!=":case"===":case"!==":case"<":case"<=":
case">=":case">":return!0;case"&&":case"||":return this.left.is_boolean()&&this.right.is_boolean();default:return!1}}),e(h.Conditional,function(){return this.consequent.is_boolean()&&this.alternative.is_boolean()}),e(h.Assign,function(){return"="===this.operator&&this.right.is_boolean()}),e(h.Seq,function(){return this.cdr.is_boolean()}),e(h.True,function(){return!0}),e(h.False,function(){return!0})}(function(e,n){e.DEFMETHOD("is_boolean",n)}),function(e){e(h.Node,function(){return!1}),e(h.String,function(){return!0}),e(h.UnaryPrefix,function(){return"typeof"===this.operator}),e(h.Binary,function(e){return"+"===this.operator&&(this.left.is_string(e)||this.right.is_string(e))}),e(h.Assign,function(e){return("="===this.operator||"+="===this.operator)&&this.right.is_string(e)}),e(h.Seq,function(e){return this.cdr.is_string(e)}),e(h.Conditional,function(e){return this.consequent.is_string(e)&&this.alternative.is_string(e)}),e(h.Call,function(e){return e.option("unsafe")&&this.expression instanceof h.SymbolRef&&"String"===this.expression.name&&this.expression.undeclared()})}(function(e,n){e.DEFMETHOD("is_string",n)}),function(e){function n(e,n){if(!n)throw new Error("Compressor must be passed");return e._eval(n)}h.Node.DEFMETHOD("evaluate",function(n){var t;if(!n.option("evaluate"))return[this];try{return t=this._eval(n),[B(g(n,t,this),this),t]}catch(o){if(o!==e)throw o;return[this]}}),e(h.Statement,function(){throw new Error("Cannot evaluate a statement ["+this.start.file+":"+this.start.line+","+this.start.col+"]")}),e(h.Function,function(){throw e}),e(h.Node,function(){throw e}),e(h.Constant,function(){return this.getValue()}),e(h.UnaryPrefix,function(t){var o=this.expression;switch(this.operator){case"!":return!n(o,t);case"typeof":if(o instanceof h.Function)return"function";if(o=n(o,t),o instanceof RegExp)throw e;return typeof o;case"void":return void n(o,t);case"~":return~n(o,t);case"-":if(o=n(o,t),0===o)throw e;return-o;case"+":return+n(o,t)}throw e}),e(h.Binary,function(t){var o=this.left,r=this.right;switch(this.operator){case"&&":return n(o,t)&&n(r,t);case"||":return n(o,t)||n(r,t);case"|":return n(o,t)|n(r,t);case"&":return n(o,t)&n(r,t);case"^":return n(o,t)^n(r,t);case"+":return n(o,t)+n(r,t);case"*":return n(o,t)*n(r,t);case"/":return n(o,t)/n(r,t);case"%":return n(o,t)%n(r,t);case"-":return n(o,t)-n(r,t);case"<<":return n(o,t)<<n(r,t);case">>":return n(o,t)>>n(r,t);case">>>":return n(o,t)>>>n(r,t);case"==":return n(o,t)==n(r,t);case"===":return n(o,t)===n(r,t);case"!=":return n(o,t)!=n(r,t);case"!==":return n(o,t)!==n(r,t);case"<":return n(o,t)<n(r,t);case"<=":return n(o,t)<=n(r,t);case">":return n(o,t)>n(r,t);case">=":return n(o,t)>=n(r,t);case"in":return n(o,t)in n(r,t);case"instanceof":return n(o,t)instanceof n(r,t)}throw e}),e(h.Conditional,function(e){return n(this.condition,e)?n(this.consequent,e):n(this.alternative,e)}),e(h.SymbolRef,function(t){var o=this.definition();if(o&&o.constant&&o.init)return n(o.init,t);throw e}),e(h.Dot,function(t){var o;if(t.option("unsafe")&&"length"===this.property&&(o=n(this.expression,t),"string"==typeof o))return o.length;throw e})}(function(e,n){e.DEFMETHOD("_eval",n)}),function(e){function n(e){return _(h.UnaryPrefix,e,{operator:"!",expression:e})}e(h.Node,function(){return n(this)}),e(h.Statement,function(){throw new Error("Cannot negate a statement")}),e(h.Function,function(){return n(this)}),e(h.UnaryPrefix,function(){return"!"===this.operator?this.expression:n(this)}),e(h.Seq,function(e){var n=this.clone();return n.cdr=n.cdr.negate(e),n}),e(h.Conditional,function(e){var t=this.clone();return t.consequent=t.consequent.negate(e),t.alternative=t.alternative.negate(e),B(n(this),t)}),e(h.Binary,function(e){var t=this.clone(),o=this.operator;if(e.option("unsafe_comps"))switch(o){case"<=":return t.operator=">",t;case"<":return t.operator=">=",t;case">=":return t.operator="<",t;case">":return t.operator="<=",t}switch(o){case"==":return t.operator="!=",t;case"!=":return t.operator="==",t;case"===":return t.operator="!==",t;case"!==":return t.operator="===",t;case"&&":return t.operator="||",t.left=t.left.negate(e),t.right=t.right.negate(e),B(n(this),t);case"||":return t.operator="&&",t.left=t.left.negate(e),t.right=t.right.negate(e),B(n(this),t)}return n(this)})}(function(e,n){e.DEFMETHOD("negate",function(e){return n.call(this,e)})}),function(e){e(h.Node,function(){return!0}),e(h.EmptyStatement,function(){return!1}),e(h.Constant,function(){return!1}),e(h.This,function(){return!1}),e(h.Call,function(e){var n=e.option("pure_funcs");return n?n.indexOf(this.expression.print_to_string())<0:!0}),e(h.Block,function(e){var n;for(n=this.body.length-1;n>=0;--n)if(this.body[n].has_side_effects(e))return!0;return!1}),e(h.SimpleStatement,function(e){return this.body.has_side_effects(e)}),e(h.Defun,function(){return!0}),e(h.Function,function(){return!1}),e(h.Binary,function(e){return this.left.has_side_effects(e)||this.right.has_side_effects(e)}),e(h.Assign,function(){return!0}),e(h.Conditional,function(e){return this.condition.has_side_effects(e)||this.consequent.has_side_effects(e)||this.alternative.has_side_effects(e)}),e(h.Unary,function(e){switch(this.operator){case"delete":case"++":case"--":return!0}return this.expression.has_side_effects(e)}),e(h.SymbolRef,function(){return this.global()&&this.undeclared()}),e(h.Object,function(e){var n;for(n=this.properties.length-1;n>=0;--n)if(this.properties[n].has_side_effects(e))return!0;return!1}),e(h.ObjectProperty,function(e){return this.value.has_side_effects(e)}),e(h.Array,function(e){var n;for(n=this.elements.length-1;n>=0;--n)if(this.elements[n].has_side_effects(e))return!0;return!1}),e(h.Dot,function(e){return e.option("pure_getters")?this.expression.has_side_effects(e):!0}),e(h.Sub,function(e){return e.option("pure_getters")?this.expression.has_side_effects(e)||this.property.has_side_effects(e):!0}),e(h.PropAccess,function(e){return!e.option("pure_getters")}),e(h.Seq,function(e){return this.car.has_side_effects(e)||this.cdr.has_side_effects(e)})}(function(e,n){e.DEFMETHOD("has_side_effects",n)}),function(e){function n(){var e=this.body,n=e.length;return n>0&&w(e[n-1])}e(h.Statement,function(){return null}),e(h.Jump,function(){return this}),e(h.BlockStatement,n),e(h.SwitchBranch,n),e(h.If,function(){return this.alternative&&w(this.body)&&w(this.alternative)&&this})}(function(e,n){e.DEFMETHOD("aborts",n)}),b(h.Directive,function(e){return e.scope.has_directive(e.value)!==e.scope?_(h.EmptyStatement,e):e}),b(h.Debugger,function(e,n){return n.option("drop_debugger")?_(h.EmptyStatement,e):e}),b(h.LabeledStatement,function(e,n){return e.body instanceof h.Break&&n.loopcontrol_target(e.body.label)===e.body?_(h.EmptyStatement,e):0===e.label.references.length?e.body:e}),b(h.Block,function(e,n){return e.body=C(e.body,n),e}),b(h.BlockStatement,function(e,n){switch(e.body=C(e.body,n),e.body.length){case 1:return e.body[0];case 0:return _(h.EmptyStatement,e)}return e}),h.Scope.DEFMETHOD("drop_unused",function(n){var t,o,r,i,a,u=this;!n.option("unused")||u instanceof h.Toplevel||u.uses_eval||(t=[],o=new l,r=this,i=new e(function(e,a){var s,c;if(e!==u){if(e instanceof h.Defun)return o.add(e.name.name,e),!0;if(e instanceof h.Definitions&&r===u)return e.definitions.forEach(function(e){e.value&&(o.add(e.name.name,e.value),e.value.has_side_effects(n)&&e.value.walk(i))}),!0;if(e instanceof h.SymbolRef)return c=e.definition(),-1===t.indexOf(c)&&t.push(c),!0;if(e instanceof h.Scope)return s=r,r=e,a(),r=s,!0}}),u.walk(i),function(n,t){function o(e){e instanceof h.SymbolRef&&(l=e.definition(),-1===n.indexOf(l)&&n.push(l))}var r,i,a,u,s,c,l;for(r=0;r<n.length;++r)for(u=n[r].orig,i=0;i<u.length;++i)for(s=t.get(u[i].name)||[],a=0;a<s.length;++a)c=s[a],c.walk(new e(o))}(t,o),a=new c(function(e,o,r){var i,c,l,p,d,m,y;if(e instanceof h.Lambda&&!(e instanceof h.Accessor)&&!n.option("keep_fargs"))for(i=e.argnames,d=i.length-1;d>=0&&(c=i[d],c.unreferenced());--d)i.pop(),n.warn("Dropping unused function argument {name} [{file}:{line},{col}]",{name:c.name,file:c.start.file,line:c.start.line,col:c.start.col});if(e instanceof h.Defun&&e!==u)return-1===t.indexOf(e.name.definition())?(n.warn("Dropping unused function {name} [{file}:{line},{col}]",{name:e.name.name,file:e.name.start.file,line:e.name.start.line,col:e.name.start.col}),_(h.EmptyStatement,e)):e;if(e instanceof h.Definitions&&!(a.parent()instanceof h.ForIn)){for(l=e.definitions.filter(function(e){var o;return-1!==t.indexOf(e.name.definition())?!0:(o={name:e.name.name,file:e.name.start.file,line:e.name.start.line,col:e.name.start.col},e.value&&e.value.has_side_effects(n)?(e._unused_side_effects=!0,n.warn("Side effects in initialization of unused variable {name} [{file}:{line},{col}]",o),!0):(n.warn("Dropping unused variable {name} [{file}:{line},{col}]",o),!1))}),l=f(l,function(e,n){return!e.value&&n.value?-1:!n.value&&e.value?1:0}),p=[],d=0;d<l.length;)m=l[d],m._unused_side_effects?(p.push(m.value),l.splice(d,1)):(p.length>0&&(p.push(m.value),m.value=h.Seq.from_array(p),p=[]),++d);return p=p.length>0?_(h.BlockStatement,e,{body:[_(h.SimpleStatement,e,{body:h.Seq.from_array(p)})]}):null,0!==l.length||p?0===l.length?p:(e.definitions=l,p&&(p.body.unshift(e),e=p),e):_(h.EmptyStatement,e)}return e instanceof h.For&&(o(e,this),e.init instanceof h.BlockStatement)?(y=e.init.body.slice(0,-1),e.init=e.init.body.slice(-1)[0].body,y.push(e),r?s.splice(y):_(h.BlockStatement,e,{body:y})):e instanceof h.Scope&&e!==u?e:void 0}),u.transform(a))}),h.Scope.DEFMETHOD("hoist_declarations",function(t){var o,r,i,a,u,s,f,p,d,m,y,b,g=t.option("hoist_funs"),v=t.option("hoist_vars"),S=this;if(g||v){if(o=[],r=[],i=new l,a=0,u=0,S.walk(new e(function(e){return e instanceof h.Scope&&e!==S?!0:e instanceof h.Var?(++u,!0):void 0})),v=v&&u>1,s=new c(function(e){var n,t;if(e!==S){if(e instanceof h.Directive)return o.push(e),_(h.EmptyStatement,e);if(e instanceof h.Defun&&g)return r.push(e),_(h.EmptyStatement,e);if(e instanceof h.Var&&v)return e.definitions.forEach(function(e){i.set(e.name.name,e),++a}),n=e.to_assignments(),t=s.parent(),t instanceof h.ForIn&&t.init===e?null===n?e.definitions[0].name:n:t instanceof h.For&&t.init===e?n:n?_(h.SimpleStatement,e,{body:n}):_(h.EmptyStatement,e);if(e instanceof h.Scope)return e}}),S=S.transform(s),a>0&&(p=[],i.each(function(e,t){S instanceof h.Lambda&&n(function(n){return n.name===e.name.name},S.argnames)?i.del(t):(e=e.clone(),e.value=null,p.push(e),i.set(t,e))}),p.length>0)){for(;S.body.length;){if(S.body[0]instanceof h.SimpleStatement){if(d=S.body[0].body,d instanceof h.Assign&&"="===d.operator&&(m=d.left,m instanceof h.Symbol&&i.has(m.name))){if(f=i.get(m.name),f.value)break;f.value=d.right,D(p,f),p.push(f),S.body.splice(0,1);continue}if(d instanceof h.Seq&&(y=d.car,y instanceof h.Assign&&"="===y.operator&&(m=y.left,m instanceof h.Symbol&&i.has(m.name)))){if(f=i.get(m.name),f.value)break;f.value=y.right,D(p,f),p.push(f),S.body[0].body=d.cdr;continue}}if(S.body[0]instanceof h.EmptyStatement)S.body.splice(0,1);else{if(!(S.body[0]instanceof h.BlockStatement))break;b=[0,1].concat(S.body[0].body),S.body.splice.apply(S.body,b)}}p=_(h.Var,S,{definitions:p}),r.push(p)}S.body=o.concat(r,S.body)}return S}),b(h.SimpleStatement,function(e,n){return n.option("side_effects")&&!e.body.has_side_effects(n)?(n.warn("Dropping side-effect-free statement [{file}:{line},{col}]",e.start),_(h.EmptyStatement,e)):e}),b(h.DWLoop,function(e,n){var t,o=e.condition.evaluate(n);if(e.condition=o[0],!n.option("loops"))return e;if(o.length>1){if(o[1])return _(h.For,e,{body:e.body});if(e instanceof h.While&&n.option("dead_code"))return t=[],E(n,e.body,t),_(h.BlockStatement,e,{body:t})}return e}),b(h.While,function(e,n){return n.option("loops")?(e=h.DWLoop.prototype.optimize.call(e,n),e instanceof h.While&&(F(e,n),e=_(h.For,e,e).transform(n)),e):e}),b(h.For,function(e,n){var t,o=e.condition;return o&&(o=o.evaluate(n),e.condition=o[0]),n.option("loops")?o&&o.length>1&&!o[1]&&n.option("dead_code")?(t=[],e.init instanceof h.Statement?t.push(e.init):e.init&&t.push(_(h.SimpleStatement,e.init,{body:e.init})),E(n,e.body,t),_(h.BlockStatement,e,{body:t})):(F(e,n),e):e}),b(h.If,function(e,n){var t,o,r,i,a,u,s;if(!n.option("conditionals"))return e;if(t=e.condition.evaluate(n),e.condition=t[0],t.length>1)if(t[1]){if(n.warn("Condition always true [{file}:{line},{col}]",e.condition.start),n.option("dead_code"))return o=[],e.alternative&&E(n,e.alternative,o),o.push(e.body),_(h.BlockStatement,e,{body:o}).transform(n)}else if(n.warn("Condition always false [{file}:{line},{col}]",e.condition.start),n.option("dead_code"))return o=[],E(n,e.body,o),e.alternative&&o.push(e.alternative),_(h.BlockStatement,e,{body:o}).transform(n);return S(e.alternative)&&(e.alternative=null),r=e.condition.negate(n),i=B(e.condition,r)===r,e.alternative&&i&&(i=!1,e.condition=r,a=e.body,e.body=e.alternative||_(h.EmptyStatement),e.alternative=a),S(e.body)&&S(e.alternative)?_(h.SimpleStatement,e.condition,{body:e.condition}).transform(n):e.body instanceof h.SimpleStatement&&e.alternative instanceof h.SimpleStatement?_(h.SimpleStatement,e,{body:_(h.Conditional,e,{condition:e.condition,consequent:e.body.body,alternative:e.alternative.body})}).transform(n):S(e.alternative)&&e.body instanceof h.SimpleStatement?i?_(h.SimpleStatement,e,{body:_(h.Binary,e,{operator:"||",left:r,right:e.body.body})}).transform(n):_(h.SimpleStatement,e,{body:_(h.Binary,e,{operator:"&&",left:e.condition,right:e.body.body})}).transform(n):e.body instanceof h.EmptyStatement&&e.alternative&&e.alternative instanceof h.SimpleStatement?_(h.SimpleStatement,e,{body:_(h.Binary,e,{operator:"||",left:e.condition,right:e.alternative.body})}).transform(n):e.body instanceof h.Exit&&e.alternative instanceof h.Exit&&e.body.TYPE===e.alternative.TYPE?_(e.body.CTOR,e,{value:_(h.Conditional,e,{condition:e.condition,consequent:e.body.value||_(h.Undefined,e.body).optimize(n),alternative:e.alternative.value||_(h.Undefined,e.alternative).optimize(n)})}).transform(n):(e.body instanceof h.If&&!e.body.alternative&&!e.alternative&&(e.condition=_(h.Binary,e.condition,{operator:"&&",left:e.condition,right:e.body.condition}).transform(n),e.body=e.body.body),w(e.body)&&e.alternative?(s=e.alternative,e.alternative=null,_(h.BlockStatement,e,{body:[e,s]}).transform(n)):w(e.alternative)?(u=e.body,e.body=e.alternative,e.condition=i?r:e.condition.negate(n),e.alternative=null,_(h.BlockStatement,e,{body:[e,u]}).transform(n)):e)}),b(h.Switch,function(e,n){var t,o,r,i,a,u,l,f,p,d,m;if(0===e.body.length&&n.option("conditionals"))return _(h.SimpleStatement,e,{body:e.expression}).transform(n);for(m=!1;!m;)t=e.body[e.body.length-1],t?(o=t.body[t.body.length-1],o instanceof h.Break&&A(n.loopcontrol_target(o.label))===e&&t.body.pop(),t instanceof h.Default&&0===t.body.length?e.body.pop():m=!0):m=!0;if(r=e.expression.evaluate(n),2===r.length)try{e.expression=r[0],n.option("dead_code")&&(i=r[1],a=!1,u=!1,l=!1,f=!1,p=!1,d=new c(function(t,o,r){var c,d;if(t instanceof h.Lambda||t instanceof h.SimpleStatement)return t;if(t instanceof h.Switch&&t===e)return t=t.clone(),o(t,this),p?t:_(h.BlockStatement,t,{body:t.body.reduce(function(e,n){return e.concat(n.body)},[])}).transform(n);if(t instanceof h.If||t instanceof h.Try)return c=a,a=!u,o(t,this),a=c,t;if(t instanceof h.StatementWithBody||t instanceof h.Switch)return c=u,u=!0,o(t,this),u=c,t;if(t instanceof h.Break&&this.loopcontrol_target(t.label)===e)return a?(p=!0,t):u?t:(f=!0,r?s.skip:_(h.EmptyStatement,t));if(t instanceof h.SwitchBranch&&this.parent()===e){if(f)return s.skip;if(t instanceof h.Case){if(d=t.expression.evaluate(n),d.length<2)throw e;return d[1]===i||l?(l=!0,w(t)&&(f=!0),o(t,this),t):s.skip}return o(t,this),t}}),d.stack=n.stack.slice(),e=e.transform(d))}catch(y){if(y!==e)throw y}return e}),b(h.Case,function(e,n){return e.body=C(e.body,n),e}),b(h.Try,function(e,n){return e.body=C(e.body,n),e}),h.Definitions.DEFMETHOD("remove_initializers",function(){this.definitions.forEach(function(e){e.value=null})}),h.Definitions.DEFMETHOD("to_assignments",function(){var e=this.definitions.reduce(function(e,n){if(n.value){var t=_(h.SymbolRef,n.name,n.name);e.push(_(h.Assign,n,{operator:"=",left:t,right:n.value}))}return e},[]);return 0===e.length?null:h.Seq.from_array(e)}),b(h.Definitions,function(e){return 0===e.definitions.length?_(h.EmptyStatement,e):e}),b(h.Function,function(e,n){return e=h.Lambda.prototype.optimize.call(e,n),n.option("unused")&&!n.option("keep_fnames")&&e.name&&e.name.unreferenced()&&(e.name=null),e}),b(h.Call,function(n,r){var i,a,s,c,l,f,b,v,S,A;if(r.option("unsafe")){if(i=n.expression,i instanceof h.SymbolRef&&i.undeclared())switch(i.name){case"Array":if(1!==n.args.length)return _(h.Array,n,{elements:n.args}).transform(r);break;case"Object":if(0===n.args.length)return _(h.Object,n,{properties:[]});break;case"String":if(0===n.args.length)return _(h.String,n,{value:""});if(n.args.length<=1)return _(h.Binary,n,{left:n.args[0],operator:"+",right:_(h.String,n,{value:""})}).transform(r);break;case"Number":if(0===n.args.length)return _(h.Number,n,{value:0});if(1===n.args.length)return _(h.UnaryPrefix,n,{expression:n.args[0],operator:"+"}).transform(r);break;case"Boolean":if(0===n.args.length)return _(h.False,n);if(1===n.args.length)return _(h.UnaryPrefix,n,{expression:_(h.UnaryPrefix,null,{expression:n.args[0],operator:"!"}),operator:"!"}).transform(r);break;case"Function":if(0===n.args.length)return _(h.Function,n,{argnames:[],body:[]});if(k(n.args,function(e){return e instanceof h.String}))try{a="(function ("+n.args.slice(0,-1).map(function(e){return e.value}).join(",")+") {"+n.args[n.args.length-1].value+"})()",s=u(a),s.figure_out_scope({screw_ie8:r.option("screw_ie8")}),c=new d(r.options,void 0,t(m),y),s=s.transform(c),s.figure_out_scope({screw_ie8:r.option("screw_ie8")}),s.mangle_names();try{s.walk(new e(function(e){if(e instanceof h.Lambda)throw l=e,s}))}catch(w){if(w!==s)throw w}return l?(f=l.argnames.map(function(e,t){return _(h.String,n.args[t],{value:e.print_to_string()})}),a=new p,h.BlockStatement.prototype._codegen.call(l,l,a),a=a.toString().replace(/^\{|\}$/g,""),f.push(_(h.String,n.args[n.args.length-1],{value:a})),n.args=f,n):n}catch(w){if(w instanceof o)r.warn("Error parsing code passed to new Function [{file}:{line},{col}]",n.args[n.args.length-1].start),r.warn(w.toString());else if("function"==typeof m)throw m(w),w}}else if(i instanceof h.Dot&&"toString"===i.property&&0===n.args.length)return _(h.Binary,n,{left:_(h.String,n,{value:""}),operator:"+",right:i.expression}).transform(r);if(i instanceof h.Dot&&i.expression instanceof h.Array&&"join"===i.property&&(b=0===n.args.length?",":n.args[0].evaluate(r)[1]))return v=i.expression.elements.reduce(function(e,n){var t,o;return n=n.evaluate(r),0===e.length||1===n.length?e.push(n):(t=e[e.length-1],2===t.length?(o=String(t[1]+b+n[1]),e[e.length-1]=[g(r,o,t[0]),o]):e.push(n)),e},[]),0===v.length?_(h.String,n,{value:""}):1===v.length?v[0][0]:""===b?(S=v[0][0]instanceof h.String||v[1][0]instanceof h.String?v.shift()[0]:_(h.String,n,{value:""}),v.reduce(function(e,n){return _(h.Binary,n[0],{operator:"+",left:e,right:n[0]})},S).transform(r)):(A=n.clone(),A.expression=A.expression.clone(),A.expression.expression=A.expression.expression.clone(),A.expression.expression.elements=v.map(function(e){return e[0]}),B(n,A))}if(r.option("side_effects")&&n.expression instanceof h.Function&&0===n.args.length&&!h.Block.prototype.has_side_effects.call(n.expression,r))return _(h.Undefined,n).transform(r);if(r.option("drop_console")&&n.expression instanceof h.PropAccess){for(i=n.expression.expression;i.expression;)i=i.expression;if(i instanceof h.SymbolRef&&"console"===i.name&&i.undeclared())return _(h.Undefined,n).transform(r)}return n.evaluate(r)[0]}),b(h.New,function(e,n){var t;if(n.option("unsafe")&&(t=e.expression,t instanceof h.SymbolRef&&t.undeclared()))switch(t.name){case"Object":case"RegExp":case"Function":case"Error":case"Array":return _(h.Call,e,e).transform(n)}return e}),b(h.Seq,function(e,n){if(!n.option("side_effects"))return e;if(!e.car.has_side_effects(n)){var t;if(!(e.cdr instanceof h.SymbolRef&&"eval"===e.cdr.name&&e.cdr.undeclared())&&(t=n.parent(),t instanceof h.Call&&t.expression===e))return e.cdr}if(n.option("cascade")){if(e.car instanceof h.Assign&&!e.car.left.has_side_effects(n)){if(e.car.left.equivalent_to(e.cdr))return e.car;if(e.cdr instanceof h.Call&&e.cdr.expression.equivalent_to(e.car.left))return e.cdr.expression=e.car,e.cdr}if(!e.car.has_side_effects(n)&&!e.cdr.has_side_effects(n)&&e.car.equivalent_to(e.cdr))return e.car}return e.cdr instanceof h.UnaryPrefix&&"void"===e.cdr.operator&&!e.cdr.expression.has_side_effects(n)?(e.cdr.expression=e.car,e.cdr):e.cdr instanceof h.Undefined?_(h.UnaryPrefix,e,{operator:"void",expression:e.car}):e}),h.Unary.DEFMETHOD("lift_sequences",function(e){var n,t;return e.option("sequences")&&this.expression instanceof h.Seq?(n=this.expression,t=n.to_array(),this.expression=t.pop(),t.push(this),n=h.Seq.from_array(t).transform(e)):this}),b(h.UnaryPostfix,function(e,n){return e.lift_sequences(n)}),b(h.UnaryPrefix,function(e,n){var t;if(e=e.lift_sequences(n),t=e.expression,n.option("booleans")&&n.in_boolean_context()){switch(e.operator){case"!":if(t instanceof h.UnaryPrefix&&"!"===t.operator)return t.expression;break;case"typeof":return n.warn("Boolean expression always true [{file}:{line},{col}]",e.start),_(h.True,e)}t instanceof h.Binary&&"!"===e.operator&&(e=B(e,t.negate(n)))}return e.evaluate(n)[0]}),h.Binary.DEFMETHOD("lift_sequences",function(e){var n,t;if(e.option("sequences")){if(this.left instanceof h.Seq)return n=this.left,t=n.to_array(),this.left=t.pop(),t.push(this),n=h.Seq.from_array(t).transform(e);if(this.right instanceof h.Seq&&this instanceof h.Assign&&!x(this.left,e))return n=this.right,t=n.to_array(),this.right=t.pop(),t.push(this),n=h.Seq.from_array(t).transform(e)}return this}),b(h.Binary,function(e,n){var t,o,i,a,u;switch(t=n.has_directive("use asm")?function(){}:function(t,o){var r;(o||!e.left.has_side_effects(n)&&!e.right.has_side_effects(n))&&(t&&(e.operator=t),r=e.left,e.left=e.right,e.right=r)},e.operator){case"==":case"!=":case"===":case"!==":case"*":case"&":case"|":case"^":u=!0}if(u&&(e.right instanceof h.Constant&&!(e.left instanceof h.Constant)&&(e.left instanceof h.Binary&&r(e.left.operator)>=r(e.operator)||t(null,!0)),/^[!=]==?$/.test(e.operator))){if(e.left instanceof h.SymbolRef&&e.right instanceof h.Conditional){if(e.right.consequent instanceof h.SymbolRef&&e.right.consequent.definition()===e.left.definition()){if(/^==/.test(e.operator))return e.right.condition;if(/^!=/.test(e.operator))return e.right.condition.negate(n)}if(e.right.alternative instanceof h.SymbolRef&&e.right.alternative.definition()===e.left.definition()){if(/^==/.test(e.operator))return e.right.condition.negate(n);if(/^!=/.test(e.operator))return e.right.condition}}if(e.right instanceof h.SymbolRef&&e.left instanceof h.Conditional){if(e.left.consequent instanceof h.SymbolRef&&e.left.consequent.definition()===e.right.definition()){if(/^==/.test(e.operator))return e.left.condition;if(/^!=/.test(e.operator))return e.left.condition.negate(n)}if(e.left.alternative instanceof h.SymbolRef&&e.left.alternative.definition()===e.right.definition()){if(/^==/.test(e.operator))return e.left.condition.negate(n);if(/^!=/.test(e.operator))return e.left.condition}}}if(e=e.lift_sequences(n),n.option("comparisons"))switch(e.operator){case"===":case"!==":(e.left.is_string(n)&&e.right.is_string(n)||e.left.is_boolean()&&e.right.is_boolean())&&(e.operator=e.operator.substr(0,2));case"==":case"!=":e.left instanceof h.String&&"undefined"===e.left.value&&e.right instanceof h.UnaryPrefix&&"typeof"===e.right.operator&&n.option("unsafe")&&(e.right.expression instanceof h.SymbolRef&&e.right.expression.undeclared()||(e.right=e.right.expression,e.left=_(h.Undefined,e.left).optimize(n),2===e.operator.length&&(e.operator+="=")))}if(n.option("booleans")&&n.in_boolean_context())switch(e.operator){case"&&":if(o=e.left.evaluate(n),i=e.right.evaluate(n),o.length>1&&!o[1]||i.length>1&&!i[1])return n.warn("Boolean && always false [{file}:{line},{col}]",e.start),e.left.has_side_effects(n)?_(h.Seq,e,{car:e.left,cdr:_(h.False)}).optimize(n):_(h.False,e);if(o.length>1&&o[1])return i[0];if(i.length>1&&i[1])return o[0];break;case"||":if(o=e.left.evaluate(n),i=e.right.evaluate(n),o.length>1&&o[1]||i.length>1&&i[1])return n.warn("Boolean || always true [{file}:{line},{col}]",e.start),e.left.has_side_effects(n)?_(h.Seq,e,{car:e.left,cdr:_(h.True)}).optimize(n):_(h.True,e);if(o.length>1&&!o[1])return i[0];if(i.length>1&&!i[1])return o[0];break;case"+":if(o=e.left.evaluate(n),i=e.right.evaluate(n),o.length>1&&o[0]instanceof h.String&&o[1]||i.length>1&&i[0]instanceof h.String&&i[1])return n.warn("+ in boolean context always true [{file}:{line},{col}]",e.start),_(h.True,e)}if(n.option("comparisons"))switch((!(n.parent()instanceof h.Binary)||n.parent()instanceof h.Assign)&&(a=_(h.UnaryPrefix,e,{operator:"!",expression:e.negate(n)}),e=B(e,a)),e.operator){case"<":t(">");break;case"<=":t(">=")}return"+"===e.operator&&e.right instanceof h.String&&""===e.right.getValue()&&e.left instanceof h.Binary&&"+"===e.left.operator&&e.left.is_string(n)?e.left:(n.option("evaluate")&&"+"===e.operator&&(e.left instanceof h.Constant&&e.right instanceof h.Binary&&"+"===e.right.operator&&e.right.left instanceof h.Constant&&e.right.is_string(n)&&(e=_(h.Binary,e,{operator:"+",left:_(h.String,null,{value:String(e.left.getValue()+e.right.left.getValue()),start:e.left.start,end:e.right.left.end}),right:e.right.right})),e.right instanceof h.Constant&&e.left instanceof h.Binary&&"+"===e.left.operator&&e.left.right instanceof h.Constant&&e.left.is_string(n)&&(e=_(h.Binary,e,{operator:"+",left:e.left.left,right:_(h.String,null,{value:String(e.left.right.getValue()+e.right.getValue()),start:e.left.right.start,end:e.right.end})})),e.left instanceof h.Binary&&"+"===e.left.operator&&e.left.is_string(n)&&e.left.right instanceof h.Constant&&e.right instanceof h.Binary&&"+"===e.right.operator&&e.right.left instanceof h.Constant&&e.right.is_string(n)&&(e=_(h.Binary,e,{operator:"+",left:_(h.Binary,e.left,{operator:"+",left:e.left.left,right:_(h.String,null,{value:String(e.left.right.getValue()+e.right.left.getValue()),start:e.left.right.start,end:e.right.left.end})}),right:e.right.right}))),e.right instanceof h.Binary&&e.right.operator===e.operator&&("*"===e.operator||"&&"===e.operator||"||"===e.operator)?(e.left=_(h.Binary,e.left,{operator:e.operator,left:e.left,right:e.right.left}),e.right=e.right.right,e.transform(n)):e.evaluate(n)[0])}),b(h.SymbolRef,function(e,n){var t;if(e.undeclared()){if(t=n.option("global_defs"),t&&t.hasOwnProperty(e.name))return g(n,t[e.name],e);switch(e.name){case"undefined":return _(h.Undefined,e);case"NaN":return _(h.NaN,e).transform(n);case"Infinity":return _(h.Infinity,e).transform(n)}}return e}),b(h.Infinity,function(e){return _(h.Binary,e,{operator:"/",left:_(h.Number,null,{value:1}),right:_(h.Number,null,{value:0})})}),b(h.NaN,function(e){return _(h.Binary,e,{operator:"/",left:_(h.Number,null,{value:0}),right:_(h.Number,null,{value:0})})}),b(h.Undefined,function(e,n){var t,o,r;return n.option("unsafe")&&(t=n.find_parent(h.Scope),o=t.find_variable("undefined"))?(r=_(h.SymbolRef,e,{name:"undefined",scope:t,thedef:o}),r.reference(),r):e}),b(h.Assign,function(e,n){if(e=e.lift_sequences(n),"="===e.operator&&e.left instanceof h.SymbolRef&&e.right instanceof h.Binary&&e.right.left instanceof h.SymbolRef&&e.right.left.name===e.left.name)switch(e.right.operator){case"+":case"-":case"/":case"*":case"%":case">>":case"<<":case">>>":case"|":case"^":case"&":e.operator=e.right.operator+"=",e.right=e.right.right}return e}),b(h.Conditional,function(e,n){var t,o,r,i,a;if(!n.option("conditionals"))return e;if(e.condition instanceof h.Seq)return t=e.condition.car,e.condition=e.condition.cdr,h.Seq.cons(t,e);if(o=e.condition.evaluate(n),o.length>1)return o[1]?(n.warn("Condition always true [{file}:{line},{col}]",e.start),e.consequent):(n.warn("Condition always false [{file}:{line},{col}]",e.start),e.alternative);if(r=o[0].negate(n),B(o[0],r)===r&&(e=_(h.Conditional,e,{condition:r,consequent:e.alternative,alternative:e.consequent})),i=e.consequent,a=e.alternative,i instanceof h.Assign&&a instanceof h.Assign&&i.operator===a.operator&&i.left.equivalent_to(a.left))return _(h.Assign,e,{operator:i.operator,left:i.left,right:_(h.Conditional,e,{condition:e.condition,consequent:i.right,alternative:a.right})});if(i instanceof h.Call&&a.TYPE===i.TYPE&&i.args.length===a.args.length&&i.expression.equivalent_to(a.expression)){if(0===i.args.length)return _(h.Seq,e,{car:e.condition,cdr:i});if(1===i.args.length)return i.args[0]=_(h.Conditional,e,{condition:e.condition,consequent:i.args[0],alternative:a.args[0]}),i}return i instanceof h.Conditional&&i.alternative.equivalent_to(a)?_(h.Conditional,e,{condition:_(h.Binary,e,{left:e.condition,operator:"&&",right:i.condition}),consequent:i.consequent,alternative:a}):i instanceof h.Constant&&a instanceof h.Constant&&i.equivalent_to(a)?e.condition.has_side_effects(n)?h.Seq.from_array([e.condition,g(n,i.value,e)]):g(n,i.value,e):i instanceof h.True&&a instanceof h.False?(e.condition=e.condition.negate(n),_(h.UnaryPrefix,e.condition,{operator:"!",expression:e.condition})):i instanceof h.False&&a instanceof h.True?e.condition.negate(n):e}),b(h.Boolean,function(e,n){if(n.option("booleans")){var t=n.parent();return t instanceof h.Binary&&("=="===t.operator||"!="===t.operator)?(n.warn("Non-strict equality against boolean: {operator} {value} [{file}:{line},{col}]",{operator:t.operator,value:e.value,file:t.start.file,line:t.start.line,col:t.start.col}),_(h.Number,e,{value:+e.value})):_(h.UnaryPrefix,e,{operator:"!",expression:_(h.Number,e,{value:1-e.value})})}return e}),b(h.Sub,function(e,n){var t,o,r=e.property;if(r instanceof h.String&&n.option("properties")){if(r=r.getValue(),t=i.RESERVED_WORDS(r)?n.option("screw_ie8"):a.identifier_string(r))return _(h.Dot,e,{expression:e.expression,property:r}).optimize(n);o=parseFloat(r),isNaN(o)||o.toString()!=r||(e.property=_(h.Number,e.property,{value:o}))}return e}),b(h.Dot,function(e,n){var t=e.property;return i.RESERVED_WORDS(t)&&!n.option("screw_ie8")?_(h.Sub,e,{expression:e.expression,property:_(h.String,e,{value:t})}).optimize(n):e.evaluate(n)[0]}),b(h.Array,T),b(h.Object,T),b(h.RegExp,T),h.has_compress_support=!0)}return h}),define("add_moz_fns_to_AST",["is"],function(e){function n(n){function t(e){var t=e.loc,o=t&&t.start,r=e.range,i={file:t&&t.source,line:o&&o.line,col:o&&o.column,pos:r?r[0]:e.start,endline:o&&o.line,endcol:o&&o.column,endpos:r?r[0]:e.start};return new n.Token(i)}function o(e){var t=e.loc,o=t&&t.end,r=e.range,i={file:t&&t.source,line:o&&o.line,col:o&&o.column,pos:r?r[1]:e.end,endline:o&&o.line,endcol:o&&o.column,endpos:r?r[1]:e.end};return new n.Token(i)}function r(e){var n;return f.push(e),n=e?l[e.type](e):null,f.pop(),n}function i(e,n){var t=e.start,o=e.end;return!t.pos&&0!==t.pos||!o.endpos&&0!==o.endpos||(n.range=[t.pos,o.endpos]),t.line&&(n.loc={start:{line:t.line,column:t.col},end:o.endline?{line:o.endline,column:o.endcol}:null},t.file&&(n.loc.source=t.file)),n}function a(e,n){e.DEFMETHOD("to_mozilla_ast",function(){return i(this,n(this))})}function u(e){return e?e.to_mozilla_ast():null}function s(e){return{type:"BlockStatement",body:e.body.map(u)}}function c(e,n,i){var c,f,p,d,h,m,y,b,_,g=/([a-z0-9$_]+)(=|@|>|%)([a-z0-9$_]+)/i;if(b="function From_Moz_"+e+"(M) {\nreturn new "+n.name+"({\nstart: my_start_token(M),\nend: my_end_token(M)",_="function To_Moz_"+e+"(M){\nreturn {\ntype: "+JSON.stringify(e),i)for(c=i.split(","),p=0;p<c.length;++p){if(f=c[p],d=g.exec(f.trim()),!d)throw new Error("Can't understand property map: "+f);switch(h=d[1],m=d[2],y=d[3],b+=",\n"+y+": ",_+=",\n"+h+": ",m){case"@":b+="M."+h+".map(from_moz)",_+="M."+y+".map(to_moz)";break;

case">":b+="from_moz(M."+h+")",_+="to_moz(M."+y+")";break;case"=":b+="M."+h,_+="M."+y;break;case"%":b+="from_moz(M."+h+").body",_+="to_moz_block(M)";break;default:throw new Error("Can't understand operator in propmap: "+f)}}b+="\n})\n}",_+="\n}\n}",b=new Function("my_start_token","my_end_token","from_moz","return("+b+")")(t,o,r),_=new Function("to_moz","to_moz_block","return("+_+")")(u,s),l[e]=b,a(n,_)}var l,f=null;n.has_moz_support||(n.Node.from_mozilla_ast=function(e){var n,t=f;return f=[],n=r(e),f=t,n},l={ExpressionStatement:function(e){var i=e.expression;return"Literal"===i.type&&"string"==typeof i.value?new n.Directive({start:t(e),end:o(e),value:i.value}):new n.SimpleStatement({start:t(e),end:o(e),body:r(i)})},TryStatement:function(e){var i,a=e.handlers||[e.handler];if(a.length>1||e.guardedHandlers&&e.guardedHandlers.length)throw new Error("Multiple catch clauses are not supported.");return i={start:t(e),end:o(e),body:r(e.block).body,bcatch:r(a[0]),bfinally:e.finalizer?new n.Finally(r(e.finalizer)):null},new n.Try(i)},Property:function(e){var i=e.key,a="Identifier"===i.type?i.name:i.value,u={start:t(i),end:o(e.value),key:a,value:r(e.value)};switch(e.kind){case"init":return new n.ObjectKeyVal(u);case"set":return u.value.name=r(i),new n.ObjectSetter(u);case"get":return u.value.name=r(i),new n.ObjectGetter(u)}},ObjectExpression:function(e){var i={start:t(e),end:o(e),properties:e.properties.map(function(e){return e.type="Property",r(e)})};return new n.Object(i)},SequenceExpression:function(e){return n.Seq.from_array(e.expressions.map(r))},MemberExpression:function(e){var i=e.computed?n.Sub:n.Dot,a={start:t(e),end:o(e),property:e.computed?r(e.property):e.property.name,expression:r(e.object)};return new i(a)},SwitchCase:function(e){var i=e.test?n.Case:n.Default,a={start:t(e),end:o(e),expression:r(e.test),body:e.consequent.map(r)};return new i(a)},VariableDeclaration:function(e){var i="const"===e.kind?n.Const:n.Var,a={start:t(e),end:o(e),definitions:e.declarations.map(r)};return new i(a)},Literal:function(e){var r=e.value,i=typeof r,a=null,u={start:t(e),end:o(e)};if(null===r)a=n.Null;else if("boolean"===i)a=r?n.True:n.False;else switch(u.value=r,i){case"string":a=n.String;break;case"number":a=n.Number;break;default:a=n.RegExp}return new a(u)},Identifier:function(e){var r=f[f.length-2],i=null,a={start:t(e),end:o(e),name:e.name};switch(r.type){case"LabeledStatement":i=n.Label;break;case"VariableDeclarator":r.id===e&&(i="const"===r.kind?n.SymbolConst:n.SymbolVar);break;case"FunctionExpression":i=r.id===e?n.SymbolLambda:n.SymbolFunarg;break;case"FunctionDeclaration":i=r.id===e?n.SymbolDefun:n.SymbolFunarg;break;case"CatchClause":i=n.SymbolCatch;break;case"BreakStatement":case"ContinueStatement":i=n.LabelRef}return i||(i=n.SymbolRef),new i(a)}},l.UpdateExpression=l.UnaryExpression=function(e){var i=e.hasOwnProperty("prefix")?e.prefix:"UnaryExpression"===e.type,a=i?n.UnaryPrefix:n.UnaryPostfix,u={start:t(e),end:o(e),operator:e.operator,expression:r(e.argument)};return new a(u)},c("Program",n.Toplevel,"body@body"),c("EmptyStatement",n.EmptyStatement),c("BlockStatement",n.BlockStatement,"body@body"),c("IfStatement",n.If,"test>condition, consequent>body, alternate>alternative"),c("LabeledStatement",n.LabeledStatement,"label>label, body>body"),c("BreakStatement",n.Break,"label>label"),c("ContinueStatement",n.Continue,"label>label"),c("WithStatement",n.With,"object>expression, body>body"),c("SwitchStatement",n.Switch,"discriminant>expression, cases@body"),c("ReturnStatement",n.Return,"argument>value"),c("ThrowStatement",n.Throw,"argument>value"),c("WhileStatement",n.While,"test>condition, body>body"),c("DoWhileStatement",n.Do,"test>condition, body>body"),c("ForStatement",n.For,"init>init, test>condition, update>step, body>body"),c("ForInStatement",n.ForIn,"left>init, right>object, body>body"),c("DebuggerStatement",n.Debugger),c("FunctionDeclaration",n.Defun,"id>name, params@argnames, body%body"),c("VariableDeclarator",n.VarDef,"id>name, init>value"),c("CatchClause",n.Catch,"param>argname, body%body"),c("ThisExpression",n.This),c("ArrayExpression",n.Array,"elements@elements"),c("FunctionExpression",n.Function,"id>name, params@argnames, body%body"),c("BinaryExpression",n.Binary,"operator=operator, left>left, right>right"),c("LogicalExpression",n.Binary,"operator=operator, left>left, right>right"),c("AssignmentExpression",n.Assign,"operator=operator, left>left, right>right"),c("ConditionalExpression",n.Conditional,"test>condition, consequent>consequent, alternate>alternative"),c("NewExpression",n.New,"callee>expression, arguments@args"),c("CallExpression",n.Call,"callee>expression, arguments@args"),a(n.Directive,function(e){return{type:"ExpressionStatement",expression:{type:"Literal",value:e.value}}}),a(n.SimpleStatement,function(e){return{type:"ExpressionStatement",expression:u(e.body)}}),a(n.SwitchBranch,function(e){return{type:"SwitchCase",test:u(e.expression),consequent:e.body.map(u)}}),a(n.Try,function(e){return{type:"TryStatement",block:s(e),handler:u(e.bcatch),guardedHandlers:[],finalizer:u(e.bfinally)}}),a(n.Catch,function(e){return{type:"CatchClause",param:u(e.argname),guard:null,body:s(e)}}),a(n.Definitions,function(e){return{type:"VariableDeclaration",kind:e instanceof n.Const?"const":"var",declarations:e.definitions.map(u)}}),a(n.Seq,function(e){return{type:"SequenceExpression",expressions:e.to_array().map(u)}}),a(n.PropAccess,function(e){var t=e instanceof n.Sub;return{type:"MemberExpression",object:u(e.expression),computed:t,property:t?u(e.property):{type:"Identifier",name:e.property}}}),a(n.Unary,function(e){return{type:"++"===e.operator||"--"===e.operator?"UpdateExpression":"UnaryExpression",operator:e.operator,prefix:e instanceof n.UnaryPrefix,argument:u(e.expression)}}),a(n.Binary,function(e){return{type:"&&"===e.operator||"||"===e.operator?"LogicalExpression":"BinaryExpression",left:u(e.left),operator:e.operator,right:u(e.right)}}),a(n.Object,function(e){return{type:"ObjectExpression",properties:e.properties.map(u)}}),a(n.ObjectProperty,function(t){var o,r;return o=e.identifier(t.key)?{type:"Identifier",name:t.key}:{type:"Literal",value:t.key},t instanceof n.ObjectKeyVal?r="init":t instanceof n.ObjectGetter?r="get":t instanceof n.ObjectSetter&&(r="set"),{type:"Property",kind:r,key:o,value:u(t.value)}}),a(n.Symbol,function(e){var n=e.definition();return{type:"Identifier",name:n?n.mangled_name||n.name:e.name}}),a(n.Constant,function(e){var n=e.value;return"number"==typeof n&&(0>n||0===n&&0>1/n)?{type:"UnaryExpression",operator:"-",prefix:!0,argument:{type:"Literal",value:-n}}:{type:"Literal",value:n}}),a(n.Atom,function(e){return{type:"Identifier",name:String(e.value)}}),n.Boolean.DEFMETHOD("to_mozilla_ast",n.Constant.prototype.to_mozilla_ast),n.Null.DEFMETHOD("to_mozilla_ast",n.Constant.prototype.to_mozilla_ast),n.Hole.DEFMETHOD("to_mozilla_ast",function(){return null}),n.Block.DEFMETHOD("to_mozilla_ast",n.BlockStatement.prototype.to_mozilla_ast),n.Lambda.DEFMETHOD("to_mozilla_ast",n.Function.prototype.to_mozilla_ast),n.has_moz_support=!0)}return n}),define("add_output_fns_to_AST",["TreeWalker","predicates","precedence","is","OutputStream"],function(e,n,t,o,r){function i(i){function a(){}function u(e,n){e.DEFMETHOD("_codegen",n)}function s(e,n){Array.isArray(e)?e.forEach(function(e){s(e,n)}):e.DEFMETHOD("needs_parens",n)}function c(e){for(var n=e.stack(),t=n.length,o=n[--t],r=n[--t];t>0;){if(r instanceof i.Statement&&r.body===o)return!0;if(!(r instanceof i.Seq&&r.car===o||r instanceof i.Call&&r.expression===o&&!(r instanceof i.New)||r instanceof i.Dot&&r.expression===o||r instanceof i.Sub&&r.expression===o||r instanceof i.Conditional&&r.condition===o||r instanceof i.Binary&&r.left===o||r instanceof i.UnaryPostfix&&r.expression===o))return!1;o=r,r=n[--t]}}function l(e,n){return 0===e.args.length&&!n.option("beautify")}function f(e,n,t){var o=e.length-1;e.forEach(function(e,r){e instanceof i.EmptyStatement||(t.indent(),e.print(t),r===o&&n||(t.newline(),n&&t.newline()))})}function p(e,n){n.option("bracketize")?!e||e instanceof i.EmptyStatement?n.print("{}"):e instanceof i.BlockStatement?e.print(n):n.with_block(function(){n.indent(),e.print(n),n.newline()}):!e||e instanceof i.EmptyStatement?n.force_semicolon():e.print(n)}function d(e,n){e.length>0?n.with_block(function(){f(e,!1,n)}):n.print("{}")}function h(n,t,o){if(o)try{n.walk(new e(function(e){if(e instanceof i.Binary&&"in"===e.operator)throw t})),n.print(t)}catch(r){if(r!==t)throw r;n.print(t,!0)}else n.print(t)}function m(e,n){return e instanceof i.BlockStatement?void e.print(n):void n.with_block(function(){n.indent(),e.print(n),n.newline()})}function y(e,n){if(n.option("bracketize"))return void m(e.body,n);if(!e.body)return n.force_semicolon();if(e.body instanceof i.Do&&!n.option("screw_ie8"))return void m(e.body,n);for(var t=e.body;;)if(t instanceof i.If){if(!t.alternative)return void m(e.body,n);t=t.alternative}else{if(!(t instanceof i.StatementWithBody))break;t=t.body}p(e.body,n)}function b(e){var n,t=e[0],o=t.length;for(n=1;n<e.length;++n)e[n].length<o&&(t=e[n],o=t.length);return t}function _(e){var n,t=e.toString(10),o=[t.replace(/^0\./,".").replace("e+","e")];return Math.floor(e)===e?(e>=0?o.push("0x"+e.toString(16).toLowerCase(),"0"+e.toString(8)):o.push("-0x"+(-e).toString(16).toLowerCase(),"-0"+(-e).toString(8)),n=/^(.*?)(0+)$/.exec(e),n&&o.push(n[1]+"e"+n[2].length)):(n=/^0?\.(0+)(.*)$/.exec(e),n&&o.push(n[2]+"e-"+(n[1].length+n[2].length),t.substr(t.indexOf(".")))),b(o)}function g(e){return[92,47,46,43,42,63,40,41,91,93,123,125,36,94,58,124,33,10,13,0,65279,8232,8233].indexOf(e)<0}function v(e,n){e.DEFMETHOD("add_source_map",function(e){n(this,e)})}function S(e,n){n.add_mapping(e.start)}i.has_output_support||(i.Node.DEFMETHOD("print",function(e,n){function t(){o.add_comments(e),o.add_source_map(e),r(o,e)}var o=this,r=o._codegen;e.push_node(o),n||o.needs_parens(e)?e.with_parens(t):t(),e.pop_node()}),i.Node.DEFMETHOD("print_to_string",function(e){var n=new r(e);return this.print(n),n.get()}),i.Node.DEFMETHOD("add_comments",function(n){var t,o,r=n.option("comments"),a=this;r&&(t=a.start,t&&!t._comments_dumped&&(t._comments_dumped=!0,o=t.comments_before||[],a instanceof i.Exit&&a.value&&a.value.walk(new e(function(e){return e.start&&e.start.comments_before&&(o=o.concat(e.start.comments_before),e.start.comments_before=[]),e instanceof i.Function||e instanceof i.Array||e instanceof i.Object?!0:void 0})),r.test?o=o.filter(function(e){return r.test(e.value)}):"function"==typeof r&&(o=o.filter(function(e){return r(a,e)})),!n.option("beautify")&&o.length&&/comment[134]/.test(o[0].type)&&0!==n.col()&&o[0].nlb&&n.print("\n"),o.forEach(function(e){/comment[134]/.test(e.type)?(n.print("//"+e.value+"\n"),n.indent()):"comment2"===e.type&&(n.print("/*"+e.value+"*/"),t.nlb?(n.print("\n"),n.indent()):n.space())})))}),s(i.Node,function(){return!1}),s(i.Function,function(e){return c(e)}),s(i.Object,function(e){return c(e)}),s([i.Unary,i.Undefined],function(e){var n=e.parent();return n instanceof i.PropAccess&&n.expression===this}),s(i.Seq,function(e){var n=e.parent();return n instanceof i.Call||n instanceof i.Unary||n instanceof i.Binary||n instanceof i.VarDef||n instanceof i.PropAccess||n instanceof i.Array||n instanceof i.ObjectProperty||n instanceof i.Conditional}),s(i.Binary,function(e){var n,o,r,a,u=e.parent();return u instanceof i.Call&&u.expression===this?!0:u instanceof i.Unary?!0:u instanceof i.PropAccess&&u.expression===this?!0:u instanceof i.Binary&&(n=u.operator,o=t(n),r=this.operator,a=t(r),o>a||o==a&&this===u.right)?!0:void 0}),s(i.PropAccess,function(n){var t=n.parent();if(t instanceof i.New&&t.expression===this)try{this.walk(new e(function(e){if(e instanceof i.Call)throw t}))}catch(o){if(o!==t)throw o;return!0}}),s(i.Call,function(e){var n,t=e.parent();return t instanceof i.New&&t.expression===this?!0:this.expression instanceof i.Function&&t instanceof i.PropAccess&&t.expression===this?(n=e.parent(1),n instanceof i.Assign&&n.left===t):!1}),s(i.New,function(e){var n=e.parent();return l(this,e)&&(n instanceof i.PropAccess||n instanceof i.Call&&n.expression===this)?!0:void 0}),s(i.Number,function(e){var n=e.parent();return this.getValue()<0&&n instanceof i.PropAccess&&n.expression===this?!0:void 0}),s([i.Assign,i.Conditional],function(e){var n=e.parent();return n instanceof i.Unary?!0:n instanceof i.Binary&&!(n instanceof i.Assign)?!0:n instanceof i.Call&&n.expression===this?!0:n instanceof i.Conditional&&n.condition===this?!0:n instanceof i.PropAccess&&n.expression===this?!0:void 0}),u(i.Directive,function(e,n){n.print_string(e.value,e.quote),n.semicolon()}),u(i.Debugger,function(e,n){n.print("debugger"),n.semicolon()}),i.StatementWithBody.DEFMETHOD("_do_print_body",function(e){p(this.body,e)}),u(i.Statement,function(e,n){e.body.print(n),n.semicolon()}),u(i.Toplevel,function(e,n){f(e.body,!0,n),n.print("")}),u(i.LabeledStatement,function(e,n){e.label.print(n),n.colon(),e.body.print(n)}),u(i.SimpleStatement,function(e,n){e.body.print(n),n.semicolon()}),u(i.BlockStatement,function(e,n){d(e.body,n)}),u(i.EmptyStatement,function(e,n){n.semicolon()}),u(i.Do,function(e,n){n.print("do"),n.space(),e._do_print_body(n),n.space(),n.print("while"),n.space(),n.with_parens(function(){e.condition.print(n)}),n.semicolon()}),u(i.While,function(e,n){n.print("while"),n.space(),n.with_parens(function(){e.condition.print(n)}),n.space(),e._do_print_body(n)}),u(i.For,function(e,n){n.print("for"),n.space(),n.with_parens(function(){!e.init||e.init instanceof i.EmptyStatement?n.print(";"):(e.init instanceof i.Definitions?e.init.print(n):h(e.init,n,!0),n.print(";"),n.space()),e.condition?(e.condition.print(n),n.print(";"),n.space()):n.print(";"),e.step&&e.step.print(n)}),n.space(),e._do_print_body(n)}),u(i.ForIn,function(e,n){n.print("for"),n.space(),n.with_parens(function(){e.init.print(n),n.space(),n.print("in"),n.space(),e.object.print(n)}),n.space(),e._do_print_body(n)}),u(i.With,function(e,n){n.print("with"),n.space(),n.with_parens(function(){e.expression.print(n)}),n.space(),e._do_print_body(n)}),i.Lambda.DEFMETHOD("_do_print",function(e,n){var t=this;n||e.print("function"),t.name&&(e.space(),t.name.print(e)),e.with_parens(function(){t.argnames.forEach(function(n,t){t&&e.comma(),n.print(e)})}),e.space(),d(t.body,e)}),u(i.Lambda,function(e,n){e._do_print(n)}),i.Exit.DEFMETHOD("_do_print",function(e,n){e.print(n),this.value&&(e.space(),this.value.print(e)),e.semicolon()}),u(i.Return,function(e,n){e._do_print(n,"return")}),u(i.Throw,function(e,n){e._do_print(n,"throw")}),i.LoopControl.DEFMETHOD("_do_print",function(e,n){e.print(n),this.label&&(e.space(),this.label.print(e)),e.semicolon()}),u(i.Break,function(e,n){e._do_print(n,"break")}),u(i.Continue,function(e,n){e._do_print(n,"continue")}),u(i.If,function(e,n){n.print("if"),n.space(),n.with_parens(function(){e.condition.print(n)}),n.space(),e.alternative?(y(e,n),n.space(),n.print("else"),n.space(),p(e.alternative,n)):e._do_print_body(n)}),u(i.Switch,function(e,n){n.print("switch"),n.space(),n.with_parens(function(){e.expression.print(n)}),n.space(),e.body.length>0?n.with_block(function(){e.body.forEach(function(e,t){t&&n.newline(),n.indent(!0),e.print(n)})}):n.print("{}")}),i.SwitchBranch.DEFMETHOD("_do_print_body",function(e){this.body.length>0&&(e.newline(),this.body.forEach(function(n){e.indent(),n.print(e),e.newline()}))}),u(i.Default,function(e,n){n.print("default:"),e._do_print_body(n)}),u(i.Case,function(e,n){n.print("case"),n.space(),e.expression.print(n),n.print(":"),e._do_print_body(n)}),u(i.Try,function(e,n){n.print("try"),n.space(),d(e.body,n),e.bcatch&&(n.space(),e.bcatch.print(n)),e.bfinally&&(n.space(),e.bfinally.print(n))}),u(i.Catch,function(e,n){n.print("catch"),n.space(),n.with_parens(function(){e.argname.print(n)}),n.space(),d(e.body,n)}),u(i.Finally,function(e,n){n.print("finally"),n.space(),d(e.body,n)}),i.Definitions.DEFMETHOD("_do_print",function(e,n){var t,o,r;e.print(n),e.space(),this.definitions.forEach(function(n,t){t&&e.comma(),n.print(e)}),t=e.parent(),o=t instanceof i.For||t instanceof i.ForIn,r=o&&t.init===this,r||e.semicolon()}),u(i.Var,function(e,n){e._do_print(n,"var")}),u(i.Const,function(e,n){e._do_print(n,"const")}),u(i.VarDef,function(e,n){var t,o;e.name.print(n),e.value&&(n.space(),n.print("="),n.space(),t=n.parent(1),o=t instanceof i.For||t instanceof i.ForIn,h(e.value,n,o))}),u(i.Call,function(e,n){e.expression.print(n),e instanceof i.New&&l(e,n)||n.with_parens(function(){e.args.forEach(function(e,t){t&&n.comma(),e.print(n)})})}),u(i.New,function(e,n){n.print("new"),n.space(),i.Call.prototype._codegen(e,n)}),i.Seq.DEFMETHOD("_do_print",function(e){this.car.print(e),this.cdr&&(e.comma(),e.should_break()&&(e.newline(),e.indent()),this.cdr.print(e))}),u(i.Seq,function(e,n){e._do_print(n)}),u(i.Dot,function(e,n){var t=e.expression;t.print(n),t instanceof i.Number&&t.getValue()>=0&&(/[xa-f.]/i.test(n.last())||n.print(".")),n.print("."),n.add_mapping(e.end),n.print_name(e.property)}),u(i.Sub,function(e,n){e.expression.print(n),n.print("["),e.property.print(n),n.print("]")}),u(i.UnaryPrefix,function(e,n){var t=e.operator;n.print(t),(/^[a-z]/i.test(t)||/[+\-]$/.test(t)&&e.expression instanceof i.UnaryPrefix&&/^[+\-]/.test(e.expression.operator))&&n.space(),e.expression.print(n)}),u(i.UnaryPostfix,function(e,n){e.expression.print(n),n.print(e.operator)}),u(i.Binary,function(e,n){e.left.print(n),n.space(),n.print(e.operator),"<"===e.operator&&e.right instanceof i.UnaryPrefix&&"!"===e.right.operator&&e.right.expression instanceof i.UnaryPrefix&&"--"===e.right.expression.operator?n.print(" "):n.space(),e.right.print(n)}),u(i.Conditional,function(e,n){e.condition.print(n),n.space(),n.print("?"),n.space(),e.consequent.print(n),n.space(),n.colon(),e.alternative.print(n)}),u(i.Array,function(e,n){n.with_square(function(){var t=e.elements,o=t.length;o>0&&n.space(),t.forEach(function(e,t){t&&n.comma(),e.print(n),t===o-1&&e instanceof i.Hole&&n.comma()}),o>0&&n.space()})}),u(i.Object,function(e,n){e.properties.length>0?n.with_block(function(){e.properties.forEach(function(e,t){t&&(n.print(","),n.newline()),n.indent(),e.print(n)}),n.newline()}):n.print("{}")}),u(i.ObjectKeyVal,function(e,t){var r,i=e.key,a=e.quote;t.option("quote_keys")?t.print_string(String(i)):("number"==typeof i||!t.option("beautify")&&String(+i)==i)&&parseFloat(i)>=0?t.print(_(i)):(r=n.RESERVED_WORDS(i)?t.option("screw_ie8"):o.identifier_string(i),r?t.print_name(i):t.print_string(i,a)),t.colon(),e.value.print(t)}),u(i.ObjectSetter,function(e,n){n.print("set"),n.space(),e.key.print(n),e.value._do_print(n,!0)}),u(i.ObjectGetter,function(e,n){n.print("get"),n.space(),e.key.print(n),e.value._do_print(n,!0)}),u(i.Symbol,function(e,n){var t=e.definition();n.print_name(t?t.mangled_name||t.name:e.name)}),u(i.Undefined,function(e,n){n.print("void 0")}),u(i.Hole,a),u(i.Infinity,function(e,n){n.print("Infinity")}),u(i.NaN,function(e,n){n.print("NaN")}),u(i.This,function(e,n){n.print("this")}),u(i.Constant,function(e,n){n.print(e.getValue())}),u(i.String,function(e,n){n.print_string(e.getValue(),e.quote)}),u(i.Number,function(e,n){n.print(_(e.getValue()))}),u(i.RegExp,function(e,n){var t,o=e.getValue().toString();n.option("ascii_only")?o=n.to_ascii(o):n.option("unescape_regexps")&&(o=o.split("\\\\").map(function(e){return e.replace(/\\u[0-9a-fA-F]{4}|\\x[0-9a-fA-F]{2}/g,function(e){var n=parseInt(e.substr(2),16);return g(n)?String.fromCharCode(n):e})}).join("\\\\")),n.print(o),t=n.parent(),t instanceof i.Binary&&/^in/.test(t.operator)&&t.left===e&&n.print(" ")}),v(i.Node,a),v(i.Directive,S),v(i.Debugger,S),v(i.Symbol,S),v(i.Jump,S),v(i.StatementWithBody,S),v(i.LabeledStatement,a),v(i.Lambda,S),v(i.Switch,S),v(i.SwitchBranch,S),v(i.BlockStatement,S),v(i.Toplevel,a),v(i.New,S),v(i.Try,S),v(i.Catch,S),v(i.Finally,S),v(i.Definitions,S),v(i.Constant,S),v(i.ObjectProperty,function(e,n){n.add_mapping(e.start,e.key)}),i.has_output_support=!0)}return i}),define("SymbolDef",[],function(){function e(e,n,t){this.name=t.name,this.orig=[t],this.scope=e,this.references=[],this.global=!1,this.mangled_name=null,this.undeclared=!1,this.constant=!1,this.index=n}return e.prototype={unmangleable:function(e){return e=e||{},this.global&&!e.toplevel||this.undeclared||!e.eval&&(this.scope.uses_eval||this.scope.uses_with)||e.keep_fnames&&this.orig[0]&&(this.orig[0].instanceof_SymbolLambda||this.orig[0].instanceof_SymbolDefun)},mangle:function(e){var n;this.mangled_name||this.unmangleable(e)||(n=this.scope,!e.screw_ie8&&this.orig[0]&&this.orig[0].instanceof_SymbolLambda&&(n=n.parent_scope),this.mangled_name=n.next_mangled(e,this))}},e}),define("add_scope_fns_to_AST",["TreeWalker","SymbolDef","defaults","Dictionary","is","merge_sort"],function(e,n,t,o,r,i){function a(a,u){var s,c;a.has_scope_support||(!function(e){var n=[97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,36,95,48,49,50,51,52,53,54,55,56,57];s=function(e){this.init(e)},s.prototype={init:function(e){var t,o=this;o.frequency=Object.create(null),t=e?function(n){o.frequency[n]="number"==typeof e[n]?e[n]:0}:function(e){o.frequency[e]=0},n.forEach(t)},consider:function(e){var n,t,o=this;for(n=e.length-1;n>=0;--n)t=e.charCodeAt(n),Object.prototype.hasOwnProperty.call(o.frequency,t)&&++o.frequency[t]},frequencies:function(){return this.frequency}},c=function(t){function o(e){return e>=48&&57>=e}var r;return r=e(n.slice(),function(e,n){return o(e)&&!o(n)?1:o(n)&&!o(e)?-1:t?(t[n]||0)-(t[e]||0):0}),function(e){var n="",t=54;e++;do e--,n+=String.fromCharCode(r[e%t]),e=Math.floor(e/t),t=64;while(e>0);return n}}}(i),a.Toplevel.DEFMETHOD("figure_out_scope",function(r){var i,u,s,c,l,f,p;r=t(r,{screw_ie8:!1}),i=this,u=i.parent_scope=null,s=null,c=0,l=new e(function(e,n){var t,o,i,f,p,d;if(r.screw_ie8&&e instanceof a.Catch)return t=u,u=new a.Scope(e),u.init_scope_vars(c),u.parent_scope=t,n(),u=t,!0;if(e instanceof a.Scope)return e.init_scope_vars(c),t=e.parent_scope=u,o=s,s=u=e,++c,n(),--c,u=t,s=o,!0;if(e instanceof a.Directive)return e.scope=u,p=u.directives,d=e.value,-1===p.indexOf(d)&&p.push(d),!0;if(e instanceof a.With)for(i=u;i;i=i.parent_scope)i.uses_with=!0;else e instanceof a.Symbol&&(e.scope=u),e instanceof a.SymbolLambda?s.def_function(e):e instanceof a.SymbolDefun?(e.scope=s.parent_scope,e.scope.def_function(e)):e instanceof a.SymbolVar||e instanceof a.SymbolConst?(f=s.def_variable(e),f.constant=e instanceof a.SymbolConst,f.init=l.parent().value):e instanceof a.SymbolCatch&&(r.screw_ie8?u:s).def_variable(e)}),i.walk(l),f=null,p=i.globals=new o,l=new e(function(e,t){var o,r,u,s,c;if(e instanceof a.Lambda)return o=f,f=e,t(),f=o,!0;if(e instanceof a.SymbolRef){if(r=e.name,u=e.scope.find_variable(r))e.thedef=u;else{if(p.has(r)?s=p.get(r):(s=new n(i,p.size(),e),s.undeclared=!0,s.global=!0,p.set(r,s)),e.thedef=s,"eval"===r&&l.parent()instanceof a.Call)for(c=e.scope;c&&!c.uses_eval;c=c.parent_scope)c.uses_eval=!0;f&&"arguments"===r&&(f.uses_arguments=!0)}return e.reference(),!0}}),i.walk(l)}),a.Scope.DEFMETHOD("init_scope_vars",function(e){this.directives=[],this.variables=new o,this.functions=new o,this.uses_with=!1,this.uses_eval=!1,this.parent_scope=null,this.enclosed=[],this.cname=-1,this.nesting=e}),a.Scope.DEFMETHOD("strict",function(){return this.has_directive("use strict")}),a.Lambda.DEFMETHOD("init_scope_vars",function(){a.Scope.prototype.init_scope_vars.apply(this,arguments),this.uses_arguments=!1}),a.SymbolRef.DEFMETHOD("reference",function(){var e,n=this.definition(),t=this.scope;for(n.references.push(this);t&&(e=t.enclosed,-1===e.indexOf(n)&&e.push(n),t!==n.scope);)t=t.parent_scope;this.frame=this.scope.nesting-n.scope.nesting}),a.Scope.DEFMETHOD("find_variable",function(e){return e instanceof a.Symbol&&(e=e.name),this.variables.get(e)||this.parent_scope&&this.parent_scope.find_variable(e)}),a.Scope.DEFMETHOD("has_directive",function(e){return this.parent_scope&&this.parent_scope.has_directive(e)||(this.directives.indexOf(e)>=0?this:null)}),a.Scope.DEFMETHOD("def_function",function(e){this.functions.set(e.name,this.def_variable(e))}),a.Scope.DEFMETHOD("def_variable",function(e){var t;return this.variables.has(e.name)?(t=this.variables.get(e.name),t.orig.push(e)):(t=new n(this,this.variables.size(),e),this.variables.set(e.name,t),t.global=!this.parent_scope),e.thedef=t,e.thedef}),a.Scope.DEFMETHOD("next_mangled",function(e){var n,t,o,i,a,u=this.enclosed,s=e.name_var||c(e.char_frequencies);do if(a=!0,n=s(++this.cname),r.identifier(n)&&-1===e.except.indexOf(n))for(a=!1,t=u.length-1;t>=0;--t)if(o=u[t],i=o.mangled_name||o.unmangleable(e)&&o.name,n===i){a=!0;break}while(a);return n}),a.Function.DEFMETHOD("next_mangled",function(e,n){for(var t,o=n.orig[0]instanceof a.SymbolFunarg&&this.name&&this.name.definition();;)if(t=a.Lambda.prototype.next_mangled.call(this,e,n),!o||o.mangled_name!==t)return t}),a.Scope.DEFMETHOD("references",function(e){return e instanceof a.Symbol&&(e=e.definition()),this.enclosed.indexOf(e)<0?null:e}),a.Symbol.DEFMETHOD("unmangleable",function(e){return this.definition().unmangleable(e)}),a.SymbolAccessor.DEFMETHOD("unmangleable",function(){return!0}),a.Label.DEFMETHOD("unmangleable",function(){return!1}),a.Symbol.DEFMETHOD("unreferenced",function(){return 0===this.definition().references.length&&!(this.scope.uses_eval||this.scope.uses_with)}),a.Symbol.DEFMETHOD("undeclared",function(){return this.definition().undeclared}),a.LabelRef.DEFMETHOD("undeclared",function(){return!1}),a.Label.DEFMETHOD("undeclared",function(){return!1}),a.Symbol.DEFMETHOD("definition",function(){return this.thedef}),a.Symbol.DEFMETHOD("global",function(){return this.definition().global}),a.Toplevel.DEFMETHOD("_default_mangler_options",function(e){return t(e,{except:[],eval:!1,sort:!1,toplevel:!1,screw_ie8:!1,init_frequencies:null,char_frequencies:null,name_var:null})}),a.Toplevel.DEFMETHOD("mangle_names",function(n){var t,o,i,u;n=this._default_mangler_options(n),"function"!=typeof n.name_var&&(n.name_var=c(n.char_frequencies)),u=n.name_var,t=-1,o=[],i=new e(function(e,i){var s,c,l;if(e instanceof a.LabeledStatement)return s=t,i(),t=s,!0;if(e instanceof a.Scope)return c=[],e.variables.each(function(e){n.except.indexOf(e.name)<0&&c.push(e)}),n.sort&&c.sort(function(e,n){return n.references.length-e.references.length}),void o.push.apply(o,c);if(e instanceof a.Label){do l=u(++t);while(!r.identifier(l));return e.mangled_name=l,!0}return n.screw_ie8&&e instanceof a.SymbolCatch?void o.push(e.definition()):void 0}),this.walk(i),o.forEach(function(e){e.mangle(n)})}),a.Toplevel.DEFMETHOD("compute_char_frequency",function(n){n=this._default_mangler_options(n);var t,o=new s(n.init_frequencies);return t=new e(function(e){e instanceof a.Constant?o.consider(e.print_to_string()):e instanceof a.Return?o.consider("return"):e instanceof a.Throw?o.consider("throw"):e instanceof a.Continue?o.consider("continue"):e instanceof a.Break?o.consider("break"):e instanceof a.Debugger?o.consider("debugger"):e instanceof a.Directive?o.consider(e.value):e instanceof a.While?o.consider("while"):e instanceof a.Do?o.consider("do while"):e instanceof a.If?(o.consider("if"),e.alternative&&o.consider("else")):e instanceof a.Var?o.consider("var"):e instanceof a.Const?o.consider("const"):e instanceof a.Lambda?o.consider("function"):e instanceof a.For?o.consider("for"):e instanceof a.ForIn?o.consider("for in"):e instanceof a.Switch?o.consider("switch"):e instanceof a.Case?o.consider("case"):e instanceof a.Default?o.consider("default"):e instanceof a.With?o.consider("with"):e instanceof a.ObjectSetter?o.consider("set"+e.key):e instanceof a.ObjectGetter?o.consider("get"+e.key):e instanceof a.ObjectKeyVal?o.consider(e.key):e instanceof a.New?o.consider("new"):e instanceof a.This?o.consider("this"):e instanceof a.Try?o.consider("try"):e instanceof a.Catch?o.consider("catch"):e instanceof a.Finally?o.consider("finally"):e instanceof a.Symbol&&e.unmangleable(n)?o.consider(e.name):e instanceof a.Unary||e instanceof a.Binary?o.consider(e.operator):e instanceof a.Dot&&o.consider(e.property)}),this.walk(t),n.char_frequencies=o.frequencies(),n.char_frequencies}),a.Toplevel.DEFMETHOD("scope_warnings",function(n){n=t(n,{undeclared:!1,unreferenced:!0,assign_to_global:!0,func_arguments:!0,nested_defuns:!0,eval:!0});var o=new e(function(e){if(n.undeclared&&e instanceof a.SymbolRef&&e.undeclared()&&u("Undeclared symbol: {name} [{file}:{line},{col}]",{name:e.name,file:e.start.file,line:e.start.line,col:e.start.col}),n.assign_to_global){var t=null;e instanceof a.Assign&&e.left instanceof a.SymbolRef?t=e.left:e instanceof a.ForIn&&e.init instanceof a.SymbolRef&&(t=e.init),t&&(t.undeclared()||t.global()&&t.scope!==t.definition().scope)&&u("{msg}: {name} [{file}:{line},{col}]",{msg:t.undeclared()?"Accidental global?":"Assignment to global",name:t.name,file:t.start.file,line:t.start.line,col:t.start.col})}n.eval&&e instanceof a.SymbolRef&&e.undeclared()&&"eval"===e.name&&u("Eval is used [{file}:{line},{col}]",e.start),n.unreferenced&&(e instanceof a.SymbolDeclaration||e instanceof a.Label)&&!(e instanceof a.SymbolCatch)&&e.unreferenced()&&u("{type} {name} is declared but not referenced [{file}:{line},{col}]",{type:e instanceof a.Label?"Label":"Symbol",name:e.name,file:e.start.file,line:e.start.line,col:e.start.col}),n.func_arguments&&e instanceof a.Lambda&&e.uses_arguments&&u("arguments used in function {name} [{file}:{line},{col}]",{name:e.name?e.name.name:"anonymous",file:e.start.file,line:e.start.line,col:e.start.col}),n.nested_defuns&&e instanceof a.Defun&&!(o.parent()instanceof a.Scope)&&u('Function {name} declared in nested statement "{type}" [{file}:{line},{col}]',{name:e.name.name,type:o.parent().TYPE,file:e.start.file,line:e.start.line,col:e.start.col})});this.walk(o)}),a.has_scope_support=!0)}return a}),define("add_transform_fns_to_AST",["MAP"],function(e){function n(n){function t(e,n){e.DEFMETHOD("transform",function(e,t){var o,i;return e.push(this),e.before&&(o=e.before(this,n,t)),o===r&&(e.after?(e.stack[e.stack.length-1]=o=this.clone(),n(o,e),i=e.after(o,t),i!==r&&(o=i)):(o=this,n(o,e))),e.pop(),o})}function o(n,t){return e(n,function(e){return e.transform(t,!0)})}var r=void 0;n.has_transform_support||(t(n.Node,function(){}),t(n.LabeledStatement,function(e,n){e.label=e.label.transform(n),e.body=e.body.transform(n)}),t(n.SimpleStatement,function(e,n){e.body=e.body.transform(n)}),t(n.Block,function(e,n){e.body=o(e.body,n)}),t(n.DWLoop,function(e,n){e.condition=e.condition.transform(n),e.body=e.body.transform(n)}),t(n.For,function(e,n){e.init&&(e.init=e.init.transform(n)),e.condition&&(e.condition=e.condition.transform(n)),e.step&&(e.step=e.step.transform(n)),e.body=e.body.transform(n)}),t(n.ForIn,function(e,n){e.init=e.init.transform(n),e.object=e.object.transform(n),e.body=e.body.transform(n)}),t(n.With,function(e,n){e.expression=e.expression.transform(n),e.body=e.body.transform(n)}),t(n.Exit,function(e,n){e.value&&(e.value=e.value.transform(n))}),t(n.LoopControl,function(e,n){e.label&&(e.label=e.label.transform(n))}),t(n.If,function(e,n){e.condition=e.condition.transform(n),e.body=e.body.transform(n),e.alternative&&(e.alternative=e.alternative.transform(n))}),t(n.Switch,function(e,n){e.expression=e.expression.transform(n),e.body=o(e.body,n)}),t(n.Case,function(e,n){e.expression=e.expression.transform(n),e.body=o(e.body,n)}),t(n.Try,function(e,n){e.body=o(e.body,n),e.bcatch&&(e.bcatch=e.bcatch.transform(n)),e.bfinally&&(e.bfinally=e.bfinally.transform(n))}),t(n.Catch,function(e,n){e.argname=e.argname.transform(n),e.body=o(e.body,n)}),t(n.Definitions,function(e,n){e.definitions=o(e.definitions,n)}),t(n.VarDef,function(e,n){e.name=e.name.transform(n),e.value&&(e.value=e.value.transform(n))}),t(n.Lambda,function(e,n){e.name&&(e.name=e.name.transform(n)),e.argnames=o(e.argnames,n),e.body=o(e.body,n)}),t(n.Call,function(e,n){
e.expression=e.expression.transform(n),e.args=o(e.args,n)}),t(n.Seq,function(e,n){e.car=e.car.transform(n),e.cdr=e.cdr.transform(n)}),t(n.Dot,function(e,n){e.expression=e.expression.transform(n)}),t(n.Sub,function(e,n){e.expression=e.expression.transform(n),e.property=e.property.transform(n)}),t(n.Unary,function(e,n){e.expression=e.expression.transform(n)}),t(n.Binary,function(e,n){e.left=e.left.transform(n),e.right=e.right.transform(n)}),t(n.Conditional,function(e,n){e.condition=e.condition.transform(n),e.consequent=e.consequent.transform(n),e.alternative=e.alternative.transform(n)}),t(n.Array,function(e,n){e.elements=o(e.elements,n)}),t(n.Object,function(e,n){e.properties=o(e.properties,n)}),t(n.ObjectProperty,function(e,n){e.value=e.value.transform(n)}),n.has_transform_support=!0)}return n}),define("add_wrap_fns_to_AST",["TreeTransformer","TreeWalker","parse","MAP","find_if"],function(e,n,t,o,r){function i(i){function a(n){var r,a=this,u=[],s=[];return n.forEach(function(e){var n=e.lastIndexOf(":");u.push(e.substr(0,n)),s.push(e.substr(n+1))}),r="(function("+s.join(",")+"){ '$ORIG'; })("+u.join(",")+")",r=t(r),r=r.transform(new e(function(e){return e instanceof i.Directive&&"$ORIG"===e.value?o.splice(a.body):void 0}))}function u(a,u){var s,c=this,l=[];return u&&(c.figure_out_scope(),c.walk(new n(function(e){e instanceof i.SymbolDeclaration&&e.definition().global&&(r(function(n){return n.name===e.name},l)||l.push(e))}))),s="(function(exports, global){ global['"+a+"'] = exports; '$ORIG'; '$EXPORTS'; }({}, (function(){return this}())))",s=t(s),s=s.transform(new e(function(e){if(e instanceof i.SimpleStatement&&(e=e.body,e instanceof i.String))switch(e.getValue()){case"$ORIG":return o.splice(c.body);case"$EXPORTS":var n=[];return l.forEach(function(e){n.push(new i.SimpleStatement({body:new i.Assign({left:new i.Sub({expression:new i.SymbolRef({name:"exports"}),property:new i.String({value:e.name})}),operator:"=",right:new i.SymbolRef(e)})}))}),o.splice(n)}}))}i.has_wrap_support||(i.Toplevel.DEFMETHOD("wrap_enclose",a),i.Toplevel.DEFMETHOD("wrap_commonjs",u),i.has_wrap_support=!0)}return i}),define("describe_ast",[],function(){function e(n,t){n.print("AST."+t.TYPE);var o=t.SELF_PROPS.filter(function(e){return!/^\$/.test(e)});o.length>0&&(n.space(),n.with_parens(function(){o.forEach(function(e,t){t&&n.space(),n.print(e)})})),t.documentation&&(n.space(),n.print_string(n,t.documentation)),t.SUBCLASSES.length>0&&(n.space(),n.with_block(function(){t.SUBCLASSES.forEach(function(t){n.indent(),e(t),n.newline()})}))}function n(n,t){return e(t,n.Node),String(t)}return n}),define("get_uglyfly",["get_warn","merge","AST","Compressor","SourceMap","OutputStream","parse","add_compress_fns_to_AST","add_moz_fns_to_AST","add_output_fns_to_AST","add_scope_fns_to_AST","add_transform_fns_to_AST","add_wrap_fns_to_AST","describe_ast"],function(e,n,t,o,r,i,a,u,s,c,l,f,p,d){function h(h,m,y){var b={},_=e(m);return s(t),p(t),f(t),l(t,_),c(t),u(t,m,y),b.get_compressor=function(e,n){return new o(e,n,_,y)},b.get_source_map=function(e){return new r(h,e)},b.get_output_stream=function(e){return new i(e,_,y)},b.from_mozilla_ast=function(e){return t.Node.from_mozilla_ast(e)},b.parse=function(e,n){return a(t,e,n)},b.describe_ast=function(e){return!e instanceof i&&(e=new i({beautify:!0},_,y)),d(t,e)},b.compress=function(e,t,o){var r={warnings:o};return e.figure_out_scope(t),e=e.transform(b.get_compressor(n(r,t)))},b.mangle=function(e,n){return n=n||{},e.figure_out_scope(n),n.char_frequencies||e.compute_char_frequency(n),e.mangle_names(n),e},b.process=function(e,t,o){var r,i,a,u;return t.compress&&b.compress(e,t.compress,t.warnings),t.mangle&&b.mangle(e,t.mangle),o=o||{},t.output&&n(o,t.output),r=b.get_output_stream(o),e.print(r),i=r.toString(),a=o.source_map?o.source_map.toString():null,t.sourceMapURL&&(i+="\n//# sourceMappingURL="+t.sourceMapURL),u={},u.js=i,u.source_map=a,u},b}return h}),define("get_promisify",[],function(){function e(e){function n(n,t){function o(){var o=Array.prototype.slice.call(arguments);return t=r?t:this,new e(function(e,r){o.push(function(n,t){n?r(n):e(arguments.length>2?Array.prototype.slice.call(arguments,1):t)}),n.apply(t,o)})}var r=arguments.length>=2;if("function"!=typeof n)throw new TypeError("A function must be provided for promisification");return o}if("function"!=typeof e)throw new TypeError("Promise is not a function");return n}return e}),define("get_uglyfly_api",["get_uglyfly","defaults","get_promisify"],function(e,n,t){function o(o){function r(e){var n=[null].concat(arguments.length<2?[e]:Array.prototype.slice(arguments));return _(function(e){e.apply(null,n)})()}function i(e,n,t){var o,r;if("string"==typeof e&&(e={path:e}),e&&"string"==typeof e.path){if(e.contents&&(r="function"==typeof y&&e.contents instanceof y,r||"string"==typeof e.contents))return t(null,{path:e.path,contents:r?e.contents.toString():e.contents});if(o="string"==typeof e.readpath?e.readpath:e.path,!v)throw"Missing dependency hook. The getFileContentsPromise dependency function was not provided.";return v(o).then(function(n){return t(null,{path:e.path,contents:n})})["catch"](function(e){return t(e)})}return n=n||{},n.isRequired||e?t(new Error("The "+(n.isRequired?"required ":"")+(n.sourceDesc||"input file")+" was not specified in a recognized format")):t()}function a(e,n,t,o,i,a,u){var s=null,c=Object.prototype.hasOwnProperty;return n?(s="string"==typeof t&&"{"!==t.charAt("0")||t&&c.call(t,"path")&&c.call(t,"contents")?m(t,{sourceDesc:"input source map"}).then(function(e){return e.contents}):r(t),s.then(function(n){var t;if(!g)throw"Missing dependency hook. Mozilla's source map library must be provided. (https://github.com/mozilla/source-map/).";return t=new E.get_source_map({file:a,orig:n,root:e}),o&&i.forEach(function(e){t.get().setSourceContent(e.path,e.content)}),u(null,{source_map:t})})["catch"](function(e){return u(e)})):u()}function u(e,n,t){var o=null,i=[];return Array.isArray(e)||(e=[e]),n.fromString&&(e=e.map(function(e,n){return{path:"fakepath"+(n+1)+".js",contents:e}})),delete n.fromString,"string"!=typeof n.sourceMapURL&&"string"==typeof n.outSourceMap&&n.sourceMapURL!==!1&&(n.sourceMapURL=n.outSourceMap),_(function(t){return n.spidermonkey?(o=E.from_mozilla_ast(e),t()):void r(e).each(function(e,t){return m(e,{isRequired:!0}).then(function(e){n.outSourceMap&&n.sourceMapIncludeSources&&e.path&&(i[t]=e),o=E.parse(e.contents,{filename:e.path,toplevel:o})})}).then(function(){return t()})["catch"](function(e){return t(e)})})().then(function(){return h(n.sourceRoot,n.outSourceMap,n.inSourceMap,!!n.sourceMapIncludeSources,i,n.sourcemapFileProperty)}).then(function(e){var r=E.process(o,n,e);return t(null,{code:r.js,map:r.source_map})})["catch"](function(e){return t(e)})}function s(e,t,o){return"function"==typeof t&&(o=t,t=null),"function"==typeof o?(t=n(t,{spidermonkey:!1,sourceRoot:null,outSourceMap:!1,sourcemapFileProperty:null,inSourceMap:null,sourceMapIncludeSources:!1,sourceMapURL:null,warnings:!1,mangle:{},output:{},compress:{},fromString:!1}),u(e,t,o)):void 0}function c(e,t,o){return"function"==typeof t&&(o=t,t=null),"function"==typeof o?(t=n(t,{spidermonkey:!1,sourceRoot:null,outSourceMap:!1,sourcemapFileProperty:null,inSourceMap:null,sourceMapIncludeSources:!1,sourceMapURL:null,warnings:!1,mangle:!1,output:{beautify:!0,comments:!0},compress:!1,fromString:!1}),u(e,t,o)):void 0}function l(e,n,t){if("function"==typeof n&&(t=n,n=null),"function"==typeof t)try{return t(null,E.parse(e,n))}catch(o){return t(o)}}function f(e,n,t,o){if("function"==typeof t&&(o=t,t=null),"function"==typeof n&&(o=n,n=null),"function"==typeof o)try{return o(null,E.compress(e,n,t))}catch(r){return o(r)}}function p(e,n){if("function"==typeof n)try{return n(null,E.from_mozilla_ast(e))}catch(t){return n(t)}}var d,h,m,y,b,_,g,v,S,A,w,E;if(w=function(){},!o)throw"Dependency hooks must be provided.";if(y=o.Buffer,b=o.Promise,g=o.MOZ_SourceMap,v=o.getFileContentsPromise,S=o.warn_callback||w,A=o.croak_callback||w,"function"!=typeof b)throw new TypeError("Promise dependency must be a function, specifically a promise constructor. Example Promise library: bluebird (https://github.com/petkaantonov/bluebird).");return _=t(b),E=e(g,S,A),m=_(i),h=_(a),d={beautify:c,compress:f,from_mozilla_ast:p,minify:s,parse:l}}return o});
//# sourceMappingURL=get_uglyfly_api_built.min.js.map